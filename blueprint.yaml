blueprint:
  name: NSPanel Configuration
  description: v2.0.0 - Configuration and synchronization NSpanele via Blueprint
  domain: automation
  input:
    nspanel_name:
      name: NSPanel Name
      description: Name NSPanel. Esphome Dive Name is "Nspanel Buero" then HA make it the entity name "nspanel_buero". So nspanel_buero must be entered here. The correct name can also be found if you search for "last_click" under Entities -> sensor.nspanel_buero_last_click
      selector:
        text: {}
    language:
      name: Language for NSPanel (coming soon)
      description: select your language for the values on the NSPanel display
      selector:
        select:
          options:
            - DE
            - EN
    tft_path:
      name: Nextion TFT File Folder for the service Folder Watcher
      description: 'TFT Path where the Nextion TFT File is stored (same NSPanel as **"last click"**) Example *"/config/www/nspanel/buero/nspanel_buero.tft"*'
      default: /config/www/nspanel/buero/nspanel_buero.tft
      selector:
        text: {}
    delay_jump_page:
      name: Delay to avoid sync problems  (coming soon)
      description: When switching pages, synchronization problems may occur due to the network / WLAN. To avoid this problem enter your value for the delay (milliseconds)
      default: []
      selector:
        text: {}
    sync_value_ha:
      name: Synchronization of the values in the Light Settings and Cover Settings submenus
      description: This means that if the Light Settings or Cover Settings submenu is open and the state is changed via HA - the changes to the Brightness and Tempcolor values are changed immediately. -> Causes numbers jumps
      default: 'No'
      selector:
        select:
          options:
            - label: 'No'
              value: select_no
            - label: 'Yes'
              value: select_yes
    sync_slider_ha:
      name: Synchronization of the Slider in the Light Settings and Cover Settings submenus
      description: This means that if the Light Settings or Cover Settings submenu is open and the state is changed via HA - the changes to the Brightness and Tempcolor sliders are changed immediately. -> Causes flickering on the slider
      default: 'No'
      selector:
        select:
          options:
            - label: 'No'
              value: select_no
            - label: 'Yes'
              value: select_yes
    weather:
      name: Weather Integration (coming soon)
      description: select our Weather Integration
      selector:
        select:
          options:
            - Default
            - AccuWeather
    accuweather:
      name: Name assigned to the AccuWeather Integration (Optional)
      description: Name assigned to the AccuWeather Integration. For Example - Accuweather Intergations name is Home Weather -> Then please write * home_weather * in it. You can find the needed value in your entities
      default: []
      selector:
        text: {}
    outdoortemp:
      name: Outdoor Temperature Sensor (Optional)
      description: select the Temperature Sensor. If no outdoor sensor available write "default" or "accuweather" to use the outdoor temperature of the selected Weather Integration. This value is displayed on the Home Page an Thermostat Page
      default: []
      selector:
        entity:
          domain:
            - sensor
    humidity:
      name: Humidity Sensor (Optional)
      description: select the humidity Sensor. This value is displayed on the Home Page
      default: []
      selector:
        entity:
          domain:
            - sensor
    hotwatertemp:
      name: Hot Water Temperature Sensor (Optional)
      description: select the hot water Sensor. This value is displayed on the Home Page an Thermostat Page
      default: []
      selector:
        entity:
          domain:
            - sensor
    left_button_entity:
      name: Left Button (Optional)
      description: Left Hardware Button - Select the entity that should be switched
      default: []
      selector:
        entity:
          domain:
            - light
            - switch
            - input_boolean
            - cover
    right_button_entity:
      name: Right Button (Optional)
      description: Right Hardware Button - Select the entity that should be switched
      default: []
      selector:
        entity:
          domain:
            - light
            - switch
            - input_boolean
            - cover

    ##### Button #####
    entity01:
      name: Button 01 (Optional)
      description: Nextion Editor - *buttonpage01.button01*  **(ONLY light | switch | cover | input_boolean)**
      default: []
      selector:
        entity:
          domain:
            - light
            - switch
            - cover
            - input_boolean
    entity01_name:
      name: Name "Button 01" (Optional)
      description: Button label - 10 characters are supported
      default: []
      selector:
        text: {}
    entity02:
      name: Button 02 (Optional)
      description: Nextion Editor - *buttonpage01.button02*  **(ONLY light | switch | cover | input_boolean)**
      default: []
      selector:
        entity:
          domain:
            - light
            - switch
            - cover
            - input_boolean
    entity02_name:
      name: Name "Button 02" (Optional)
      description: Button label - 10 characters are supported
      default: []
      selector:
        text: {}
    entity03:
      name: Button 03 (Optional)
      description: Nextion Editor - *buttonpage01.button03*  **(ONLY light | switch | cover | input_boolean)**
      default: []
      selector:
        entity:
          domain:
            - light
            - switch
            - cover
            - input_boolean
    entity03_name:
      name: Name "Button 03" (Optional)
      description: Button label - 10 characters are supported
      default: []
      selector:
        text: {}
    entity04:
      name: Button 04 (Optional)
      description: Nextion Editor - *buttonpage01.button04*  **(ONLY light | switch | cover | input_boolean)**
      default: []
      selector:
        entity:
          domain:
            - light
            - switch
            - cover
            - input_boolean
    entity04_name:
      name: Name "Button 04" (Optional)
      description: Button label - 10 characters are supported
      default: []
      selector:
        text: {}
    entity05:
      name: Button 05 (Optional)
      description: Nextion Editor - *buttonpage01.button05*  **(ONLY light | switch | cover | input_boolean)**
      default: []
      selector:
        entity:
          domain:
            - light
            - switch
            - cover
            - input_boolean
    entity05_name:
      name: Name "Button 05" (Optional)
      description: Button label - 10 characters are supported
      default: []
      selector:
        text: {}
    entity06:
      name: Button 06 (Optional)
      description: Nextion Editor - *buttonpage01.button06*  **(ONLY light | switch | cover | input_boolean)**
      default: []
      selector:
        entity:
          domain:
            - light
            - switch
            - cover
            - input_boolean
    entity06_name:
      name: Name "Button 06" (Optional)
      description: Button label - 10 characters are supported
      default: []
      selector:
        text: {}
    entity07:
      name: Button 07 (Optional)
      description: Nextion Editor - *buttonpage01.button07*  **(ONLY light | switch | cover | input_boolean)**
      default: []
      selector:
        entity:
          domain:
            - light
            - switch
            - cover
            - input_boolean
    entity07_name:
      name: Name "Button 07" (Optional)
      description: Button label - 10 characters are supported
      default: []
      selector:
        text: {}
    entity08:
      name: Button 08 (Optional)
      description: Nextion Editor - *buttonpage01.button08*  **(ONLY light | switch | cover | input_boolean)**
      default: []
      selector:
        entity:
          domain:
            - light
            - switch
            - cover
            - input_boolean
    entity08_name:
      name: Name "Button 08" (Optional)
      description: Button label - 10 characters are supported
      default: []
      selector:
        text: {}
    entity09:
      name: Button 09 (Optional)
      description: Nextion Editor - *buttonpage02.button01*  **(ONLY light | switch | cover | input_boolean)**
      default: []
      selector:
        entity:
          domain:
            - light
            - switch
            - cover
            - input_boolean
    entity09_name:
      name: Name "Button 09" (Optional)
      description: Button label - 10 characters are supported
      default: []
      selector:
        text: {}
    entity10:
      name: Button 10 (Optional)
      description: Nextion Editor - *buttonpage02.button02*  **(ONLY light | switch | cover | input_boolean)**
      default: []
      selector:
        entity:
          domain:
            - light
            - switch
            - cover
            - input_boolean
    entity10_name:
      name: Name "Button 10" (Optional)
      description: Button label - 10 characters are supported
      default: []
      selector:
        text: {}
    entity11:
      name: Button 11 (Optional)
      description: Nextion Editor - *buttonpage02.button03*  **(ONLY light | switch | cover | input_boolean)**
      default: []
      selector:
        entity:
          domain:
            - light
            - switch
            - cover
            - input_boolean
    entity11_name:
      name: Name "Button 11" (Optional)
      description: Button label - 10 characters are supported
      default: []
      selector:
        text: {}
    entity12:
      name: Button 12 (Optional)
      description: Nextion Editor - *buttonpage02.button04*  **(ONLY light | switch | cover | input_boolean)**
      default: []
      selector:
        entity:
          domain:
            - light
            - switch
            - cover
            - input_boolean
    entity12_name:
      name: Name "Button 12" (Optional)
      description: Button label - 10 characters are supported
      default: []
      selector:
        text: {}
    entity13:
      name: Button 13 (Optional)
      description: Nextion Editor - *buttonpage01.button05*  **(ONLY light | switch | cover | input_boolean)**
      default: []
      selector:
        entity:
          domain:
            - light
            - switch
            - cover
            - input_boolean
    entity13_name:
      name: Name "Button 13" (Optional)
      description: Button label - 10 characters are supported
      default: []
      selector:
        text: {}
    entity14:
      name: Button 14 (Optional)
      description: Nextion Editor - *buttonpage02.button06*  **(ONLY light | switch | cover | input_boolean)**
      default: []
      selector:
        entity:
          domain:
            - light
            - switch
            - cover
            - input_boolean
    entity14_name:
      name: Name "Button 14" (Optional)
      description: Button label - 10 characters are supported
      default: []
      selector:
        text: {}
    entity15:
      name: Button 15 (Optional)
      description: Nextion Editor - *buttonpage02.button07*  **(ONLY light | switch | cover | input_boolean)**
      default: []
      selector:
        entity:
          domain:
            - light
            - switch
            - cover
            - input_boolean
    entity15_name:
      name: Name "Button 15" (Optional)
      description: Button label - 10 characters are supported
      default: []
      selector:
        text: {}
    entity16:
      name: Button 16 (Optional)
      description: Nextion Editor - *buttonpage02.button08*  **(ONLY light | switch | cover | input_boolean)**
      default: []
      selector:
        entity:
          domain:
            - light
            - switch
            - cover
            - input_boolean
    entity16_name:
      name: Name "Button 16" (Optional)
      description: Button label - 10 characters are supported
      default: []
      selector:
        text: {}
    entity17:
      name: Button 17 (Optional)
      description: Nextion Editor - *buttonpage03.button01*  **(ONLY light | switch | cover | input_boolean)**
      default: []
      selector:
        entity:
          domain:
            - light
            - switch
            - cover
            - input_boolean
    entity17_name:
      name: Name "Button 17" (Optional)
      description: Button label - 10 characters are supported
      default: []
      selector:
        text: {}
    entity18:
      name: Button 18 (Optional)
      description: Nextion Editor - *buttonpage03.button02*  **(ONLY light | switch | cover | input_boolean)**
      default: []
      selector:
        entity:
          domain:
            - light
            - switch
            - cover
            - input_boolean
    entity18_name:
      name: Name "Button 18" (Optional)
      description: Button label - 10 characters are supported
      default: []
      selector:
        text: {}
    entity19:
      name: Button 19 (Optional)
      description: Nextion Editor - *buttonpage03.button03*  **(ONLY light | switch | cover | input_boolean)**
      default: []
      selector:
        entity:
          domain:
            - light
            - switch
            - cover
            - input_boolean
    entity19_name:
      name: Name "Button 19" (Optional)
      description: Button label - 10 characters are supported
      default: []
      selector:
        text: {}
    entity20:
      name: Button 20 (Optional)
      description: Nextion Editor - *buttonpage03.button04*  **(ONLY light | switch | cover | input_boolean)**
      default: []
      selector:
        entity:
          domain:
            - light
            - switch
            - cover
            - input_boolean
    entity20_name:
      name: Name "Button 20" (Optional)
      description: Button label - 10 characters are supported
      default: []
      selector:
        text: {}
    entity21:
      name: Button 21 (Optional)
      description: Nextion Editor - *buttonpage03.button05*  **(ONLY light | switch | cover | input_boolean)**
      default: []
      selector:
        entity:
          domain:
            - light
            - switch
            - cover
            - input_boolean
    entity21_name:
      name: Name "Button 21" (Optional)
      description: Button label - 10 characters are supported
      default: []
      selector:
        text: {}
    entity22:
      name: Button 22 (Optional)
      description: Nextion Editor - *buttonpage03.button06*  **(ONLY light | switch | cover | input_boolean)**
      default: []
      selector:
        entity:
          domain:
            - light
            - switch
            - cover
            - input_boolean
    entity22_name:
      name: Name "Button 22" (Optional)
      description: Button label - 10 characters are supported
      default: []
      selector:
        text: {}
    entity23:
      name: Button 23 (Optional)
      description: Nextion Editor - *buttonpage03.button07*  **(ONLY light | switch | cover | input_boolean)**
      default: []
      selector:
        entity:
          domain:
            - light
            - switch
            - cover
            - input_boolean
    entity23_name:
      name: Name "Button 23" (Optional)
      description: Button label - 10 characters are supported
      default: []
      selector:
        text: {}
    entity24:
      name: Button 24 (Optional)
      description: Nextion Editor - *buttonpage03.button08*  **(ONLY light | switch | cover | input_boolean)**
      default: []
      selector:
        entity:
          domain:
            - light
            - switch
            - cover
            - input_boolean
    entity24_name:
      name: Name "Button 24" (Optional)
      description: Button label - 10 characters are supported
      default: []
      selector:
        text: {}
    entity25:
      name: Button 25 (Optional)
      description: Nextion Editor - *buttonpage04.button01*  **(ONLY light | switch | cover | input_boolean)**
      default: []
      selector:
        entity:
          domain:
            - light
            - switch
            - cover
            - input_boolean
    entity25_name:
      name: Name "Button 25" (Optional)
      description: Button label - 10 characters are supported
      default: []
      selector:
        text: {}
    entity26:
      name: Button 26 (Optional)
      description: Nextion Editor - *buttonpage04.button02*  **(ONLY light | switch | cover | input_boolean)**
      default: []
      selector:
        entity:
          domain:
            - light
            - switch
            - cover
            - input_boolean
    entity26_name:
      name: Name "Button 26" (Optional)
      description: Button label - 10 characters are supported
      default: []
      selector:
        text: {}
    entity27:
      name: Button 27 (Optional)
      description: Nextion Editor - *buttonpage04.button03*  **(ONLY light | switch | cover | input_boolean)**
      default: []
      selector:
        entity:
          domain:
            - light
            - switch
            - cover
            - input_boolean
    entity27_name:
      name: Name "Button 27" (Optional)
      description: Button label - 10 characters are supported
      default: []
      selector:
        text: {}
    entity28:
      name: Button 28 (Optional)
      description: Nextion Editor - *buttonpage04.button04*  **(ONLY light | switch | cover | input_boolean)**
      default: []
      selector:
        entity:
          domain:
            - light
            - switch
            - cover
            - input_boolean
    entity28_name:
      name: Name "Button 28" (Optional)
      description: Button label - 10 characters are supported
      default: []
      selector:
        text: {}
    entity29:
      name: Button 29 (Optional)
      description: Nextion Editor - *buttonpage04.button05*  **(ONLY light | switch | cover | input_boolean)**
      default: []
      selector:
        entity:
          domain:
            - light
            - switch
            - cover
            - input_boolean
    entity29_name:
      name: Name "Button 29" (Optional)
      description: Button label - 10 characters are supported
      default: []
      selector:
        text: {}
    entity30:
      name: Button 30 (Optional)
      description: Nextion Editor - *buttonpage04.button06*  **(ONLY light | switch | cover | input_boolean)**
      default: []
      selector:
        entity:
          domain:
            - light
            - switch
            - cover
            - input_boolean
    entity30_name:
      name: Name "Button 30" (Optional)
      description: Button label - 10 characters are supported
      default: []
      selector:
        text: {}
    entity31:
      name: Button 31 (Optional)
      description: Nextion Editor - *buttonpage04.button07*  **(ONLY light | switch | cover | input_boolean)**
      default: []
      selector:
        entity:
          domain:
            - light
            - switch
            - cover
            - input_boolean
    entity31_name:
      name: Name "Button 31" (Optional)
      description: Button label - 10 characters are supported
      default: []
      selector:
        text: {}
    entity32:
      name: Button 32 (Optional)
      description: Nextion Editor - *buttonpage04.button08*  **(ONLY light | switch | cover | input_boolean)**
      default: []
      selector:
        entity:
          domain:
            - light
            - switch
            - cover
            - input_boolean
    entity32_name:
      name: Name "Button 32" (Optional)
      description: Button label - 10 characters are supported
      default: []
      selector:
        text: {}

mode: parallel
max: 5000

#########################################
#
#
#############################################################
##### CLOSE - INPUT #####
#############################################################
#
##
###
#############################################################################################################################################################################################
###
##
#
#############################################################
##### START - Variables #####
#############################################################
#
#
#########################################
trigger_variables:
  nspanel_name_trigger: !input "nspanel_name"
  last_click: "sensor.{{ nspanel_name_trigger }}_last_click"
  last_click_lightsettings: "sensor.{{ nspanel_name_trigger }}_last_click_lightsettings"
  last_click_coversettings: "sensor.{{ nspanel_name_trigger }}_last_click_coversettings"
  left_button: "binary_sensor.{{ nspanel_name_trigger }}_left_button"
  right_button: "binary_sensor.{{ nspanel_name_trigger }}_right_button"
  nextion_inited_trigger: "switch.{{ nspanel_name_trigger }}_nextion_inited"
  entity_long_trigger: "{{ entity_long }}"


variables:
  nspanel_name: !input "nspanel_name"
  command_text_printf: "esphome.{{ nspanel_name }}_send_command_text_printf"
  command_value: "esphome.{{ nspanel_name }}_send_command_value"
  command_printf: "esphome.{{ nspanel_name }}_send_command_printf"
  command_font_color: "esphome.{{ nspanel_name }}_send_command_font_color"
  command_background_color: "esphome.{{ nspanel_name }}_send_command_background_color"
  tft_upload:  "esphome.{{ nspanel_name }}_upload_tft"
  tft_path: !input "tft_path"
  humidity: !input "humidity"
  hotwatertemp: !input "hotwatertemp"
  outdoortemp: !input "outdoortemp"
  time: "{{ (as_timestamp(now()) | timestamp_custom('%H:%M')) }}"
  weather: !input "weather"
  language: !input "language"
  left_button_entity: !input "left_button_entity"
  right_button_entity: !input "right_button_entity"

  # Sync Settings
  delay_jump_page: !input "delay_jump_page"
  sync_slider_ha: !input "sync_slider_ha"
  sync_value_ha: !input "sync_value_ha"


  # Icons Mapping
  cover_pic_closed: "106"
  cover_pic_open: "107"
  battery_icon: "108"
  light_pic_off: "125"
  light_pic_on: "126"


  # color for buttons
  button_light_off: "90"
  button_light_on: "91"
  button_switch_off: "92"
  button_switch_on: "93"
  button_cover_off: "94"
  button_cover_on: "95"
  button_color_1: "65535"
  button_color_2: "10597"

  ##### Weather DE #####
  date0_de: "{{ ((as_timestamp(now())) | timestamp_custom('%a %d.%m' )) | replace('Mon', 'Montag,')| replace('Tue', 'Dienstag,')| replace('Wed', 'Mittwoch,')| replace('Thu', 'Donnerstag,')| replace('Fri', 'Freitag,')| replace('Sat', 'Samstag,')| replace('Sun', 'Sonntag,') }}"
  date1_de: "{{ ((as_timestamp(now()) + 86400) | timestamp_custom('%a %d.%m' )) | replace('Mon', 'Montag,')| replace('Tue', 'Dienstag,')| replace('Wed', 'Mittwoch,')| replace('Thu', 'Donnerstag,')| replace('Fri', 'Freitag,')| replace('Sat', 'Samstag,')| replace('Sun', 'Sonntag,') }}"
  date2_de: "{{ ((as_timestamp(now()) + 172800) | timestamp_custom('%a %d.%m' )) | replace('Mon', 'Montag,')| replace('Tue', 'Dienstag,')| replace('Wed', 'Mittwoch,')| replace('Thu', 'Donnerstag,')| replace('Fri', 'Freitag,')| replace('Sat', 'Samstag,')| replace('Sun', 'Sonntag,') }}"
  date3_de: "{{ ((as_timestamp(now()) + 259200) | timestamp_custom('%a %d.%m' )) | replace('Mon', 'Montag,')| replace('Tue', 'Dienstag,')| replace('Wed', 'Mittwoch,')| replace('Thu', 'Donnerstag,')| replace('Fri', 'Freitag,')| replace('Sat', 'Samstag,')| replace('Sun', 'Sonntag,') }}"
  date4_de: "{{ ((as_timestamp(now()) + 345600) | timestamp_custom('%a %d.%m' )) | replace('Mon', 'Montag,')| replace('Tue', 'Dienstag,')| replace('Wed', 'Mittwoch,')| replace('Thu', 'Donnerstag,')| replace('Fri', 'Freitag,')| replace('Sat', 'Samstag,')| replace('Sun', 'Sonntag,') }}"

  ##### Weather EN #####
  date0_en: "{{ ((as_timestamp(now())) | timestamp_custom('%a %d.%m' )) | replace('Mon', 'Monday,')| replace('Tue', 'Tuesday,')| replace('Wed', 'Wednesday,')| replace('Thu', 'Thursday,')| replace('Fri', 'Friday,')| replace('Sat', 'Saturday,')| replace('Sun', 'Sunday,') }}"
  date1_en: "{{ ((as_timestamp(now()) + 86400) | timestamp_custom('%a %d.%m' )) | replace('Mon', 'Monday,')| replace('Tue', 'Tuesday,')| replace('Wed', 'Wednesday,')| replace('Thu', 'Thursday,')| replace('Fri', 'Friday,')| replace('Sat', 'Saturday,')| replace('Sun', 'Sunday,') }}"
  date2_en: "{{ ((as_timestamp(now()) + 172800) | timestamp_custom('%a %d.%m' )) | replace('Mon', 'Monday,')| replace('Tue', 'Tuesday,')| replace('Wed', 'Wednesday,')| replace('Thu', 'Thursday,')| replace('Fri', 'Friday,')| replace('Sat', 'Saturday,')| replace('Sun', 'Sunday,') }}"
  date3_en: "{{ ((as_timestamp(now()) + 259200) | timestamp_custom('%a %d.%m' )) | replace('Mon', 'Monday,')| replace('Tue', 'Tuesday,')| replace('Wed', 'Wednesday,')| replace('Thu', 'Thursday,')| replace('Fri', 'Friday,')| replace('Sat', 'Saturday,')| replace('Sun', 'Sunday,') }}"
  date4_en: "{{ ((as_timestamp(now()) + 345600) | timestamp_custom('%a %d.%m' )) | replace('Mon', 'Monday,')| replace('Tue', 'Tuesday,')| replace('Wed', 'Wednesday,')| replace('Thu', 'Thursday,')| replace('Fri', 'Friday,')| replace('Sat', 'Saturday,')| replace('Sun', 'Sunday,') }}"

  ##### Meteorologisk HA Default #####
  ha_weather: "weather.home"

  ##### AccuWeather #####
  accuweather: !input "accuweather"
  accuweather_home: "weather.{{ accuweather }}"
  ##### Forcast Day 0 Accuweather #####
  accuweather_realfeel_temperature_min_0d: "sensor.{{ accuweather }}_realfeel_temperature_min_0d"
  accuweather_realfeel_temperature_max_0d: "sensor.{{ accuweather }}_realfeel_temperature_max_0d"
  accuweather_hours_of_sun_0d: "sensor.{{ accuweather }}_hours_of_sun_0d"
  accuweather_uv_index_0d: "sensor.{{ accuweather }}_uv_index_0d"
  accuweather_thunderstorm_probability_day_0d: "sensor.{{ accuweather }}_thunderstorm_probability_day_0d"
  accuweather_thunderstorm_probability_night_0d: "sensor.{{ accuweather }}_thunderstorm_probability_night_0d"
  accuweather_wind_day_0d: "sensor.{{ accuweather }}_wind_day_0d"
  accuweather_wind_night_0d: "sensor.{{ accuweather }}_wind_night_0d"
  ##### Forcast Day 1 AccuWeather #####
  accuweather_realfeel_temperature_min_1d: "sensor.{{ accuweather }}_realfeel_temperature_min_1d"
  accuweather_realfeel_temperature_max_1d: "sensor.{{ accuweather }}_realfeel_temperature_max_1d"
  accuweather_hours_of_sun_1d: "sensor.{{ accuweather }}_hours_of_sun_1d"
  accuweather_uv_index_1d: "sensor.{{ accuweather }}_uv_index_1d"
  accuweather_thunderstorm_probability_day_1d: "sensor.{{ accuweather }}_thunderstorm_probability_day_1d"
  accuweather_thunderstorm_probability_night_1d: "sensor.{{ accuweather }}_thunderstorm_probability_night_1d"
  accuweather_wind_day_1d: "sensor.{{ accuweather }}_wind_day_1d"
  accuweather_wind_night_1d: "sensor.{{ accuweather }}_wind_night_1d"
  ##### Forcast Day 2 AccuWeather #####
  accuweather_realfeel_temperature_min_2d: "sensor.{{ accuweather }}_realfeel_temperature_min_2d"
  accuweather_realfeel_temperature_max_2d: "sensor.{{ accuweather }}_realfeel_temperature_max_2d"
  accuweather_hours_of_sun_2d: "sensor.{{ accuweather }}_hours_of_sun_2d"
  accuweather_uv_index_2d: "sensor.{{ accuweather }}_uv_index_2d"
  accuweather_thunderstorm_probability_day_2d: "sensor.{{ accuweather }}_thunderstorm_probability_day_2d"
  accuweather_thunderstorm_probability_night_2d: "sensor.{{ accuweather }}_thunderstorm_probability_night_2d"
  accuweather_wind_day_2d: "sensor.{{ accuweather }}_wind_day_2d"
  accuweather_wind_night_2d: "sensor.{{ accuweather }}_wind_night_2d"
  ##### Forcast Day 3 AccuWeather #####
  accuweather_realfeel_temperature_min_3d: "sensor.{{ accuweather }}_realfeel_temperature_min_3d"
  accuweather_realfeel_temperature_max_3d: "sensor.{{ accuweather }}_realfeel_temperature_max_3d"
  accuweather_hours_of_sun_3d: "sensor.{{ accuweather }}_hours_of_sun_3d"
  accuweather_uv_index_3d: "sensor.{{ accuweather }}_uv_index_3d"
  accuweather_thunderstorm_probability_day_3d: "sensor.{{ accuweather }}_thunderstorm_probability_day_3d"
  accuweather_thunderstorm_probability_night_3d: "sensor.{{ accuweather }}_thunderstorm_probability_night_3d"
  accuweather_wind_day_3d: "sensor.{{ accuweather }}_wind_day_3d"
  accuweather_wind_night_3d: "sensor.{{ accuweather }}_wind_night_3d"
  ##### Forcast Day 4 AccuWeather #####
  accuweather_realfeel_temperature_min_4d: "sensor.{{ accuweather }}_realfeel_temperature_min_4d"
  accuweather_realfeel_temperature_max_4d: "sensor.{{ accuweather }}_realfeel_temperature_max_4d"
  accuweather_hours_of_sun_4d: "sensor.{{ accuweather }}_hours_of_sun_4d"
  accuweather_uv_index_4d: "sensor.{{ accuweather }}_uv_index_4d"
  accuweather_thunderstorm_probability_day_4d: "sensor.{{ accuweather }}_thunderstorm_probability_day_4d"
  accuweather_thunderstorm_probability_night_4d: "sensor.{{ accuweather }}_thunderstorm_probability_night_4d"
  accuweather_wind_day_4d: "sensor.{{ accuweather }}_wind_day_4d"
  accuweather_wind_night_4d: "sensor.{{ accuweather }}_wind_night_4d"

  ##### Buttons #####
  entity01: !input "entity01"
  entity01_name: !input "entity01_name"
  entity02: !input "entity02"
  entity02_name: !input "entity02_name"
  entity03: !input "entity03"
  entity03_name: !input "entity03_name"
  entity04: !input "entity04"
  entity04_name: !input "entity04_name"
  entity05: !input "entity05"
  entity05_name: !input "entity05_name"
  entity06: !input "entity06"
  entity06_name: !input "entity06_name"
  entity07: !input "entity07"
  entity07_name: !input "entity07_name"
  entity08: !input "entity08"
  entity08_name: !input "entity08_name"
  entity09: !input "entity09"
  entity09_name: !input "entity09_name"
  entity10: !input "entity10"
  entity10_name: !input "entity10_name"
  entity11: !input "entity11"
  entity11_name: !input "entity11_name"
  entity12: !input "entity12"
  entity12_name: !input "entity12_name"
  entity13: !input "entity13"
  entity13_name: !input "entity13_name"
  entity14: !input "entity14"
  entity14_name: !input "entity14_name"
  entity15: !input "entity15"
  entity15_name: !input "entity15_name"
  entity16: !input "entity16"
  entity16_name: !input "entity16_name"
  entity17: !input "entity17"
  entity17_name: !input "entity17_name"
  entity18: !input "entity18"
  entity18_name: !input "entity18_name"
  entity19: !input "entity19"
  entity19_name: !input "entity19_name"
  entity20: !input "entity20"
  entity20_name: !input "entity20_name"
  entity21: !input "entity21"
  entity21_name: !input "entity21_name"
  entity22: !input "entity22"
  entity22_name: !input "entity22_name"
  entity23: !input "entity23"
  entity23_name: !input "entity23_name"
  entity24: !input "entity24"
  entity24_name: !input "entity24_name"
  entity25: !input "entity25"
  entity25_name: !input "entity25_name"
  entity26: !input "entity26"
  entity26_name: !input "entity26_name"
  entity27: !input "entity27"
  entity27_name: !input "entity27_name"
  entity28: !input "entity28"
  entity28_name: !input "entity28_name"
  entity29: !input "entity29"
  entity29_name: !input "entity29_name"
  entity30: !input "entity30"
  entity30_name: !input "entity30_name"
  entity31: !input "entity31"
  entity31_name: !input "entity31_name"
  entity32: !input "entity32"
  entity32_name: !input "entity32_name"

#########################################
#
#
#############################################################
##### CLOSE - Variables #####
#############################################################
#
##
###
#############################################################################################################################################################################################
###
##
#
#############################################################
##### START - Trigger #####
#############################################################
#
#
#########################################

trigger:
  ###### DELME ######
  - platform: state
    entity_id: input_boolean.trigger_nspanel_boot
    to: "on"
    id: nspanel_boot_init

  ##### TFT Upload #####
  - platform: event
    event_type: folder_watcher
    event_data:
      event_type: modified
      path: !input "tft_path"
    id: tft_upload
  
  #### new nspanel boot init ####
  - platform: template
    value_template: '{{ states(nextion_inited_trigger) is match "on" }}'
    id: nspanel_boot_init


  ########################################################################################################################

  ##### Page Button - Trigger #####
  - platform: event
    event_type: state_changed
    event_data:
      entity_id: "{{ last_click }}"
    id: short_press

  ##### Button LONG Press for jump to Lightsetting or Coversetting Page - Trigger #####
  - platform: template
    value_template: '{{ states(last_click) is match "press" }}'
    for:
      seconds: 1
    id: long_press

  ##### Page Lightsettings - Trigger #####
  - platform: event
    event_type: state_changed
    event_data:
      entity_id: "{{ last_click_lightsettings }}"
    id: light_settings

  ##### Page Coversettings - Trigger #####
  - platform: event
    event_type: state_changed
    event_data:
      entity_id: "{{ last_click_coversettings }}"
    id: cover_settings

  ##### Page Button Entity sync - Trigger #####
  - platform: template
    value_template: '{{ states(last_click) is match "button" }}'
    id: button_page

  ########################################################################################################################

  ##### Time - Trigger #####
  - platform: time_pattern
    minutes: "/1"
    id: time_state

  #### Weather State - Trigger ####
  - platform: template
    value_template: '{{ states(last_click) is match "weather" }}'
    id: weather_update_state

  #### Weather Time - Trigger ####
  - platform: time_pattern
    minutes: "10"
    id: weather_update_time

  ##### Humidity - Trigger #####
  - platform: event
    event_type: state_changed
    event_data:
      entity_id: !input "humidity"
    id: humidity_state

  ##### Hot Water - Trigger #####
  - platform: event
    event_type: state_changed
    event_data:
      entity_id: !input "hotwatertemp"
    id: hotwatertemp_state

  ##### Outdoor Temp - Trigger #####
  - platform: event
    event_type: state_changed
    event_data:
      entity_id: !input "outdoortemp"
    id: outdoortemp_state

  ##### Left Button - Trigger #####
  - platform: template
    value_template: '{{ states(left_button) is match "on" }}'
    id: left_button_press

  ##### Right Button - Trigger #####
  - platform: template
    value_template: '{{ states(right_button) is match "on" }}'
    id: right_button_press

  ##### Button Sync Trigger #################################################################################################################
  
  ##### Button01 Sync - Trigger #####
  - platform: state
    entity_id: !input "entity01"
    id: current_state_entity01

  ##### Button02 Sync - Trigger #####
  - platform: state
    entity_id: !input "entity02"
    id: current_state_entity02

  ##### Button03 Sync - Trigger #####
  - platform: state
    entity_id: !input "entity03"
    id: current_state_entity03

  ##### Button04 Sync - Trigger #####
  - platform: state
    entity_id: !input "entity04"
    id: current_state_entity04

  ##### Button05 Sync - Trigger #####
  - platform: state
    entity_id: !input "entity05"
    id: current_state_entity05

  ##### Button06 Sync - Trigger #####
  - platform: state
    entity_id: !input "entity06"
    id: current_state_entity06

  ##### Button07 Sync - Trigger #####
  - platform: state
    entity_id: !input "entity07"
    id: current_state_entity07

  ##### Button08 Sync - Trigger #####
  - platform: state
    entity_id: !input "entity08"
    id: current_state_entity08

  ##### Button09 Sync - Trigger #####
  - platform: state
    entity_id: !input "entity09"
    id: current_state_entity09

  ##### Button10 Sync - Trigger #####
  - platform: state
    entity_id: !input "entity10"
    id: current_state_entity10

  ##### Button11 Sync - Trigger #####
  - platform: state
    entity_id: !input "entity11"
    id: current_state_entity11

  ##### Button12 Sync - Trigger #####
  - platform: state
    entity_id: !input "entity12"
    id: current_state_entity12

  ##### Button13 Sync - Trigger #####
  - platform: state
    entity_id: !input "entity13"
    id: current_state_entity13

  ##### Button14 Sync - Trigger #####
  - platform: state
    entity_id: !input "entity14"
    id: current_state_entity14

  ##### Button15 Sync - Trigger #####
  - platform: state
    entity_id: !input "entity15"
    id: current_state_entity15

  ##### Button16 Sync - Trigger #####
  - platform: state
    entity_id: !input "entity16"
    id: current_state_entity16

  ##### Button17 Sync - Trigger #####
  - platform: state
    entity_id: !input "entity17"
    id: current_state_entity17

  ##### Button18 Sync - Trigger #####
  - platform: state
    entity_id: !input "entity18"
    id: current_state_entity18

  ##### Button19 Sync - Trigger #####
  - platform: state
    entity_id: !input "entity19"
    id: current_state_entity19

  ##### Button20 Sync - Trigger #####
  - platform: state
    entity_id: !input "entity20"
    id: current_state_entity20

  ##### Button21 Sync - Trigger #####
  - platform: state
    entity_id: !input "entity21"
    id: current_state_entity21

  ##### Button22 Sync - Trigger #####
  - platform: state
    entity_id: !input "entity22"
    id: current_state_entity22

  ##### Button23 Sync - Trigger #####
  - platform: state
    entity_id: !input "entity23"
    id: current_state_entity23

  ##### Button24 Sync - Trigger #####
  - platform: state
    entity_id: !input "entity24"
    id: current_state_entity24

  ##### Button25 Sync - Trigger #####
  - platform: state
    entity_id: !input "entity25"
    id: current_state_entity25

  ##### Button26 Sync - Trigger #####
  - platform: state
    entity_id: !input "entity26"
    id: current_state_entity26

  ##### Button27 Sync - Trigger #####
  - platform: state
    entity_id: !input "entity27"
    id: current_state_entity27

  ##### Button28 Sync - Trigger #####
  - platform: state
    entity_id: !input "entity28"
    id: current_state_entity28

  ##### Button29 Sync - Trigger #####
  - platform: state
    entity_id: !input "entity29"
    id: current_state_entity29

  ##### Button30 Sync - Trigger #####
  - platform: state
    entity_id: !input "entity30"
    id: current_state_entity30

  ##### Button31 Sync - Trigger #####
  - platform: state
    entity_id: !input "entity31"
    id: current_state_entity31

  ##### Button32 Sync - Trigger #####
  - platform: state
    entity_id: !input "entity32"
    id: current_state_entity32

#########################################
#
#
#############################################################
##### CLOSE - Trigger #####
#############################################################
#
##
###
#############################################################################################################################################################################################
###
##
#
#############################################################
##### START - Action #####
#############################################################
#
#
#########################################
action:
  - variables:
      ##### Entity - Page Button - Toggle Entity #####
      entity_short: >-
        {%- if states(last_click) == "releasebuttonpage01button01" -%} {{ entity01 }}
        {%- elif states(last_click) == "releasebuttonpage01button02" -%} {{ entity02 }}
        {%- elif states(last_click) == "releasebuttonpage01button03" -%} {{ entity03 }}
        {%- elif states(last_click) == "releasebuttonpage01button04" -%} {{ entity04 }}
        {%- elif states(last_click) == "releasebuttonpage01button05" -%} {{ entity05 }}
        {%- elif states(last_click) == "releasebuttonpage01button06" -%} {{ entity06 }}
        {%- elif states(last_click) == "releasebuttonpage01button07" -%} {{ entity07 }}
        {%- elif states(last_click) == "releasebuttonpage01button08" -%} {{ entity08 }}
        {%- elif states(last_click) == "releasebuttonpage02button01" -%} {{ entity09 }}
        {%- elif states(last_click) == "releasebuttonpage02button02" -%} {{ entity10 }}
        {%- elif states(last_click) == "releasebuttonpage02button03" -%} {{ entity11 }}
        {%- elif states(last_click) == "releasebuttonpage02button04" -%} {{ entity12 }}
        {%- elif states(last_click) == "releasebuttonpage02button05" -%} {{ entity13 }}
        {%- elif states(last_click) == "releasebuttonpage02button06" -%} {{ entity14 }}
        {%- elif states(last_click) == "releasebuttonpage02button07" -%} {{ entity15 }}
        {%- elif states(last_click) == "releasebuttonpage02button08" -%} {{ entity16 }}
        {%- elif states(last_click) == "releasebuttonpage03button01" -%} {{ entity17 }}
        {%- elif states(last_click) == "releasebuttonpage03button02" -%} {{ entity18 }}
        {%- elif states(last_click) == "releasebuttonpage03button03" -%} {{ entity19 }}
        {%- elif states(last_click) == "releasebuttonpage03button04" -%} {{ entity20 }}
        {%- elif states(last_click) == "releasebuttonpage03button05" -%} {{ entity21 }}
        {%- elif states(last_click) == "releasebuttonpage03button06" -%} {{ entity22 }}
        {%- elif states(last_click) == "releasebuttonpage03button07" -%} {{ entity23 }}
        {%- elif states(last_click) == "releasebuttonpage03button08" -%} {{ entity24 }}
        {%- elif states(last_click) == "releasebuttonpage04button01" -%} {{ entity25 }}
        {%- elif states(last_click) == "releasebuttonpage04button02" -%} {{ entity26 }}
        {%- elif states(last_click) == "releasebuttonpage04button03" -%} {{ entity27 }}
        {%- elif states(last_click) == "releasebuttonpage04button04" -%} {{ entity28 }}
        {%- elif states(last_click) == "releasebuttonpage04button05" -%} {{ entity29 }}
        {%- elif states(last_click) == "releasebuttonpage04button06" -%} {{ entity30 }}
        {%- elif states(last_click) == "releasebuttonpage04button07" -%} {{ entity31 }}
        {%- elif states(last_click) == "releasebuttonpage04button08" -%} {{ entity32 }}
        {%- endif -%}

      ##### Entity - Page Lightsettings #####
      entity_long: >-
        {%- if states(last_click) == "pressbuttonpage01button01" -%} {{ entity01 }}
        {%- elif states(last_click) == "pressbuttonpage01button02" -%} {{ entity02 }}
        {%- elif states(last_click) == "pressbuttonpage01button03" -%} {{ entity03 }}
        {%- elif states(last_click) == "pressbuttonpage01button04" -%} {{ entity04 }}
        {%- elif states(last_click) == "pressbuttonpage01button05" -%} {{ entity05 }}
        {%- elif states(last_click) == "pressbuttonpage01button06" -%} {{ entity06 }}
        {%- elif states(last_click) == "pressbuttonpage01button07" -%} {{ entity07 }}
        {%- elif states(last_click) == "pressbuttonpage01button08" -%} {{ entity08 }}
        {%- elif states(last_click) == "pressbuttonpage02button01" -%} {{ entity09 }}
        {%- elif states(last_click) == "pressbuttonpage02button02" -%} {{ entity10 }}
        {%- elif states(last_click) == "pressbuttonpage02button03" -%} {{ entity11 }}
        {%- elif states(last_click) == "pressbuttonpage02button04" -%} {{ entity12 }}
        {%- elif states(last_click) == "pressbuttonpage02button05" -%} {{ entity13 }}
        {%- elif states(last_click) == "pressbuttonpage02button06" -%} {{ entity14 }}
        {%- elif states(last_click) == "pressbuttonpage02button07" -%} {{ entity15 }}
        {%- elif states(last_click) == "pressbuttonpage02button08" -%} {{ entity16 }}
        {%- elif states(last_click) == "pressbuttonpage03button01" -%} {{ entity17 }}
        {%- elif states(last_click) == "pressbuttonpage03button02" -%} {{ entity18 }}
        {%- elif states(last_click) == "pressbuttonpage03button03" -%} {{ entity19 }}
        {%- elif states(last_click) == "pressbuttonpage03button04" -%} {{ entity20 }}
        {%- elif states(last_click) == "pressbuttonpage03button05" -%} {{ entity21 }}
        {%- elif states(last_click) == "pressbuttonpage03button06" -%} {{ entity22 }}
        {%- elif states(last_click) == "pressbuttonpage03button07" -%} {{ entity23 }}
        {%- elif states(last_click) == "pressbuttonpage03button08" -%} {{ entity24 }}
        {%- elif states(last_click) == "pressbuttonpage04button01" -%} {{ entity25 }}
        {%- elif states(last_click) == "pressbuttonpage04button02" -%} {{ entity26 }}
        {%- elif states(last_click) == "pressbuttonpage04button03" -%} {{ entity27 }}
        {%- elif states(last_click) == "pressbuttonpage04button04" -%} {{ entity28 }}
        {%- elif states(last_click) == "pressbuttonpage04button05" -%} {{ entity29 }}
        {%- elif states(last_click) == "pressbuttonpage04button06" -%} {{ entity30 }}
        {%- elif states(last_click) == "pressbuttonpage04button07" -%} {{ entity31 }}
        {%- elif states(last_click) == "pressbuttonpage04button08" -%} {{ entity32 }}
        {%- endif -%}

     ##### Entity Name - Page Lightsettings #####
      entity_long_name: >-
        {%- if states(last_click) == "pressbuttonpage01button01" -%} {{ entity01_name }}
        {%- elif states(last_click) == "pressbuttonpage01button02" -%} {{ entity02_name }}
        {%- elif states(last_click) == "pressbuttonpage01button03" -%} {{ entity03_name }}
        {%- elif states(last_click) == "pressbuttonpage01button04" -%} {{ entity04_name }}
        {%- elif states(last_click) == "pressbuttonpage01button05" -%} {{ entity05_name }}
        {%- elif states(last_click) == "pressbuttonpage01button06" -%} {{ entity06_name }}
        {%- elif states(last_click) == "pressbuttonpage01button07" -%} {{ entity07_name }}
        {%- elif states(last_click) == "pressbuttonpage01button08" -%} {{ entity08_name }}
        {%- elif states(last_click) == "pressbuttonpage02button01" -%} {{ entity09_name }}
        {%- elif states(last_click) == "pressbuttonpage02button02" -%} {{ entity10_name }}
        {%- elif states(last_click) == "pressbuttonpage02button03" -%} {{ entity11_name }}
        {%- elif states(last_click) == "pressbuttonpage02button04" -%} {{ entity12_name }}
        {%- elif states(last_click) == "pressbuttonpage02button05" -%} {{ entity13_name }}
        {%- elif states(last_click) == "pressbuttonpage02button06" -%} {{ entity14_name }}
        {%- elif states(last_click) == "pressbuttonpage02button07" -%} {{ entity15_name }}
        {%- elif states(last_click) == "pressbuttonpage02button08" -%} {{ entity16_name }}
        {%- elif states(last_click) == "pressbuttonpage03button01" -%} {{ entity17_name }}
        {%- elif states(last_click) == "pressbuttonpage03button02" -%} {{ entity18_name }}
        {%- elif states(last_click) == "pressbuttonpage03button03" -%} {{ entity19_name }}
        {%- elif states(last_click) == "pressbuttonpage03button04" -%} {{ entity20_name }}
        {%- elif states(last_click) == "pressbuttonpage03button05" -%} {{ entity21_name }}
        {%- elif states(last_click) == "pressbuttonpage03button06" -%} {{ entity22_name }}
        {%- elif states(last_click) == "pressbuttonpage03button07" -%} {{ entity23_name }}
        {%- elif states(last_click) == "pressbuttonpage03button08" -%} {{ entity24_name }}
        {%- elif states(last_click) == "pressbuttonpage04button01" -%} {{ entity25_name }}
        {%- elif states(last_click) == "pressbuttonpage04button02" -%} {{ entity26_name }}
        {%- elif states(last_click) == "pressbuttonpage04button03" -%} {{ entity27_name }}
        {%- elif states(last_click) == "pressbuttonpage04button04" -%} {{ entity28_name }}
        {%- elif states(last_click) == "pressbuttonpage04button05" -%} {{ entity29_name}}
        {%- elif states(last_click) == "pressbuttonpage04button06" -%} {{ entity30_name }}
        {%- elif states(last_click) == "pressbuttonpage04button07" -%} {{ entity31_name }}
        {%- elif states(last_click) == "pressbuttonpage04button08" -%} {{ entity32_name }}
        {%- endif -%}

      ##### Entity - Page Lightsettings - Skip Back #####
      entity_back: >-
        {%- if states(last_click) == "pressbuttonpage01button01" -%} {{ "page buttonpage01" }}
        {%- elif states(last_click) == "pressbuttonpage01button02" -%} {{ "page buttonpage01" }}
        {%- elif states(last_click) == "pressbuttonpage01button03" -%} {{ "page buttonpage01" }}
        {%- elif states(last_click) == "pressbuttonpage01button04" -%} {{ "page buttonpage01" }}
        {%- elif states(last_click) == "pressbuttonpage01button05" -%} {{ "page buttonpage01" }}
        {%- elif states(last_click) == "pressbuttonpage01button06" -%} {{ "page buttonpage01" }}
        {%- elif states(last_click) == "pressbuttonpage01button07" -%} {{ "page buttonpage01" }}
        {%- elif states(last_click) == "pressbuttonpage01button08" -%} {{ "page buttonpage01" }}
        {%- elif states(last_click) == "pressbuttonpage02button01" -%} {{ "page buttonpage02" }}
        {%- elif states(last_click) == "pressbuttonpage02button02" -%} {{ "page buttonpage02" }}
        {%- elif states(last_click) == "pressbuttonpage02button03" -%} {{ "page buttonpage02" }}
        {%- elif states(last_click) == "pressbuttonpage02button04" -%} {{ "page buttonpage02" }}
        {%- elif states(last_click) == "pressbuttonpage02button05" -%} {{ "page buttonpage02" }}
        {%- elif states(last_click) == "pressbuttonpage02button06" -%} {{ "page buttonpage02" }}
        {%- elif states(last_click) == "pressbuttonpage02button07" -%} {{ "page buttonpage02" }}
        {%- elif states(last_click) == "pressbuttonpage02button08" -%} {{ "page buttonpage02" }}
        {%- elif states(last_click) == "pressbuttonpage03button01" -%} {{ "page buttonpage03" }}
        {%- elif states(last_click) == "pressbuttonpage03button02" -%} {{ "page buttonpage03" }}
        {%- elif states(last_click) == "pressbuttonpage03button03" -%} {{ "page buttonpage03" }}
        {%- elif states(last_click) == "pressbuttonpage03button04" -%} {{ "page buttonpage03" }}
        {%- elif states(last_click) == "pressbuttonpage03button05" -%} {{ "page buttonpage03" }}
        {%- elif states(last_click) == "pressbuttonpage03button06" -%} {{ "page buttonpage03" }}
        {%- elif states(last_click) == "pressbuttonpage03button07" -%} {{ "page buttonpage03" }}
        {%- elif states(last_click) == "pressbuttonpage03button08" -%} {{ "page buttonpage03" }}
        {%- elif states(last_click) == "pressbuttonpage04button01" -%} {{ "page buttonpage04" }}
        {%- elif states(last_click) == "pressbuttonpage04button02" -%} {{ "page buttonpage04" }}
        {%- elif states(last_click) == "pressbuttonpage04button03" -%} {{ "page buttonpage04" }}
        {%- elif states(last_click) == "pressbuttonpage04button04" -%} {{ "page buttonpage04" }}
        {%- elif states(last_click) == "pressbuttonpage04button05" -%} {{ "page buttonpage04" }}
        {%- elif states(last_click) == "pressbuttonpage04button06" -%} {{ "page buttonpage04" }}
        {%- elif states(last_click) == "pressbuttonpage04button07" -%} {{ "page buttonpage04" }}
        {%- elif states(last_click) == "pressbuttonpage04button08" -%} {{ "page buttonpage04" }}
        {%- endif -%}

  ########################################################################################################################

  # main - alias: "choose alias (name)"
  - choose:
      #### Update button on entity state_change ####
      - conditions:
          - condition: trigger
            id:
              - current_state_entity01
              - current_state_entity02
              - current_state_entity03
              - current_state_entity04
              - current_state_entity05
              - current_state_entity06
              - current_state_entity07
              - current_state_entity08
              - current_state_entity09
              - current_state_entity10
              - current_state_entity11
              - current_state_entity12
              - current_state_entity13
              - current_state_entity14
              - current_state_entity15
              - current_state_entity16
              - current_state_entity17
              - current_state_entity18
              - current_state_entity19
              - current_state_entity20
              - current_state_entity21
              - current_state_entity22
              - current_state_entity23
              - current_state_entity24
              - current_state_entity25
              - current_state_entity26
              - current_state_entity27
              - current_state_entity28
              - current_state_entity29
              - current_state_entity30
              - current_state_entity31
              - current_state_entity32
        sequence:
          - alias: "Set variable(s) for entity change"
            variables:
              component_to_update: >-
                {%- if trigger.entity_id == entity01 -%} buttonpage01.button01
                {%- elif trigger.entity_id == entity02 -%} buttonpage01.button02
                {%- elif trigger.entity_id == entity03 -%} buttonpage01.button03
                {%- elif trigger.entity_id == entity04 -%} buttonpage01.button04
                {%- elif trigger.entity_id == entity05 -%} buttonpage01.button05
                {%- elif trigger.entity_id == entity06 -%} buttonpage01.button06
                {%- elif trigger.entity_id == entity07 -%} buttonpage01.button07
                {%- elif trigger.entity_id == entity08 -%} buttonpage01.button08
                {%- elif trigger.entity_id == entity09 -%} buttonpage02.button01
                {%- elif trigger.entity_id == entity10 -%} buttonpage02.button02
                {%- elif trigger.entity_id == entity11 -%} buttonpage02.button03
                {%- elif trigger.entity_id == entity12 -%} buttonpage02.button04
                {%- elif trigger.entity_id == entity13 -%} buttonpage02.button05
                {%- elif trigger.entity_id == entity14 -%} buttonpage02.button06
                {%- elif trigger.entity_id == entity15 -%} buttonpage02.button07
                {%- elif trigger.entity_id == entity16 -%} buttonpage02.button08
                {%- elif trigger.entity_id == entity17 -%} buttonpage03.button01
                {%- elif trigger.entity_id == entity18 -%} buttonpage03.button02
                {%- elif trigger.entity_id == entity19 -%} buttonpage03.button03
                {%- elif trigger.entity_id == entity20 -%} buttonpage03.button04
                {%- elif trigger.entity_id == entity21 -%} buttonpage03.button05
                {%- elif trigger.entity_id == entity22 -%} buttonpage03.button06
                {%- elif trigger.entity_id == entity23 -%} buttonpage03.button07
                {%- elif trigger.entity_id == entity24 -%} buttonpage03.button08
                {%- elif trigger.entity_id == entity25 -%} buttonpage04.button01
                {%- elif trigger.entity_id == entity26 -%} buttonpage04.button02
                {%- elif trigger.entity_id == entity27 -%} buttonpage04.button03
                {%- elif trigger.entity_id == entity28 -%} buttonpage04.button04
                {%- elif trigger.entity_id == entity29 -%} buttonpage04.button05
                {%- elif trigger.entity_id == entity30 -%} buttonpage04.button06
                {%- elif trigger.entity_id == entity31 -%} buttonpage04.button07
                {%- elif trigger.entity_id == entity32 -%} buttonpage04.button08
                {%- endif -%}
              # Button PIC
              btn_pic: >-
                {%- if trigger.to_state.entity_id is match "light." and trigger.to_state.state == 'on' -%} {{ button_light_on }}
                {%- elif trigger.to_state.entity_id is match "light." and trigger.to_state.state == 'off' -%} {{ button_light_off }}
                {%- elif trigger.to_state.entity_id is match "switch." and trigger.to_state.state == 'on' -%} {{ button_switch_on }}
                {%- elif trigger.to_state.entity_id is match "switch." and trigger.to_state.state == 'off' -%} {{ button_switch_off }}
                {%- elif trigger.to_state.entity_id is match "input_boolean." and trigger.to_state.state == 'on' -%} {{ button_switch_on }}
                {%- elif trigger.to_state.entity_id is match "input_boolean." and trigger.to_state.state == 'off' -%} {{ button_switch_off }}
                {%- elif trigger.to_state.entity_id is match "cover." and trigger.to_state.state == 'on' -%} {{ button_cover_on }}
                {%- elif trigger.to_state.entity_id is match "cover." and trigger.to_state.state == 'off' -%} {{ button_cover_off }}
                {%- endif -%}
              # TEXT and BRIGHTNESS Background
              btn_bg: >-
                {%- if trigger.to_state.state == 'on' or trigger.to_state.state == 'open' -%} {{ button_color_1 }}
                {%- elif trigger.to_state.state == 'off' or trigger.to_state.state == 'closed' -%} {{ button_color_2 }}
                {%- endif -%}
              # TEXT Font
              btn_txt_font: >-
                {%- if trigger.to_state.state == 'on' or trigger.to_state.state == 'open' -%} {{ button_color_2 }}
                {%- elif trigger.to_state.state == 'off' or trigger.to_state.state == 'closed' -%} {{ button_color_1 }}
                {%- endif -%}
              # BRIGHTNESS Font
              btn_bri_font: "{{ button_color_2 }}"
              # BTN Label
              btn_label: >-
                {%- if trigger.entity_id == entity01 -%} {{ entity01_name }}
                {%- elif trigger.entity_id == entity02 -%} {{ entity02_name }}
                {%- elif trigger.entity_id == entity03 -%} {{ entity03_name }}
                {%- elif trigger.entity_id == entity04 -%} {{ entity04_name }}
                {%- elif trigger.entity_id == entity05 -%} {{ entity05_name }}
                {%- elif trigger.entity_id == entity06 -%} {{ entity06_name }}
                {%- elif trigger.entity_id == entity07 -%} {{ entity07_name }}
                {%- elif trigger.entity_id == entity08 -%} {{ entity08_name }}
                {%- elif trigger.entity_id == entity09 -%} {{ entity09_name }}
                {%- elif trigger.entity_id == entity10 -%} {{ entity10_name }}
                {%- elif trigger.entity_id == entity11 -%} {{ entity11_name }}
                {%- elif trigger.entity_id == entity12 -%} {{ entity12_name }}
                {%- elif trigger.entity_id == entity13 -%} {{ entity13_name }}
                {%- elif trigger.entity_id == entity14 -%} {{ entity14_name }}
                {%- elif trigger.entity_id == entity15 -%} {{ entity15_name }}
                {%- elif trigger.entity_id == entity16 -%} {{ entity16_name }}
                {%- elif trigger.entity_id == entity17 -%} {{ entity17_name }}
                {%- elif trigger.entity_id == entity18 -%} {{ entity18_name }}
                {%- elif trigger.entity_id == entity19 -%} {{ entity19_name }}
                {%- elif trigger.entity_id == entity20 -%} {{ entity20_name }}
                {%- elif trigger.entity_id == entity21 -%} {{ entity21_name }}
                {%- elif trigger.entity_id == entity22 -%} {{ entity22_name }}
                {%- elif trigger.entity_id == entity23 -%} {{ entity23_name }}
                {%- elif trigger.entity_id == entity24 -%} {{ entity24_name }}
                {%- elif trigger.entity_id == entity25 -%} {{ entity25_name }}
                {%- elif trigger.entity_id == entity26 -%} {{ entity26_name }}
                {%- elif trigger.entity_id == entity27 -%} {{ entity27_name }}
                {%- elif trigger.entity_id == entity28 -%} {{ entity28_name }}
                {%- elif trigger.entity_id == entity29 -%} {{ entity29_name }}
                {%- elif trigger.entity_id == entity30 -%} {{ entity30_name }}
                {%- elif trigger.entity_id == entity31 -%} {{ entity31_name }}
                {%- elif trigger.entity_id == entity32 -%} {{ entity32_name }}
                {%- endif -%}
              btn_bri_txt: >-
                {%- if trigger.to_state.entity_id is match "light." and trigger.to_state.state == 'on' and trigger.to_state.attributes.brightness is defined -%} {{ (trigger.to_state.attributes.brightness | int * 100 /254) | round(0) }}%
                {%- elif trigger.to_state.entity_id is match "cover." and trigger.to_state.state == 'open' and trigger.to_state.attributes.current_position is defined -%} {{ (trigger.to_state.attributes.current_position | int) | round(0) }}%
                {%- else -%} 0
                {%- endif -%}
              
          ##### Button PIC #####
          - service: "{{ command_printf }}"
            data:
              cmd: "{{ component_to_update }}pic.pic={{ btn_pic }}"
          ##### TEXT Background #####
          - service: "{{ command_background_color }}"
            data:
              component: "{{ component_to_update }}text"
              message: "{{ btn_bg }}"
          ##### TEXT Font Color #####
          - service: "{{ command_font_color }}"
            data:
              component: "{{ component_to_update }}text"
              message: "{{ btn_txt_font }}"
          ##### BRIGHTNESS Background Color #####
          - service: "{{ command_background_color }}"
            data:
              component: "{{ component_to_update }}bri"
              message: "{{ btn_bg }}"
          ##### BRIGHTNESS Font Color #####
          - service: "{{ command_font_color }}"
            data:
              component: "{{ component_to_update }}bri"
              message: "{{ btn_bri_font }}"
          ##### "TEXT" Label #####
          - service: "{{ command_text_printf }}"
            data:
              component: "{{ component_to_update }}text"
              message: "{{ btn_label }}"
          ##### "BRIGHTNESS" Text #####
          - if:
              - condition: template
                value_template: "{{ btn_bri_txt == 0 }}"
            then:
              - service: "{{ command_text_printf }}"
                data:
                  component: "{{ component_to_update }}bri"
                  message: " "
            else:
              - service: "{{ command_text_printf }}"
                data:
                  component: "{{ component_to_update }}bri"
                  message: "{{ btn_bri_txt }}"

      #### Left button press
      - conditions:
          - condition: trigger
            id: left_button_press
        sequence:
          - service: >-
              {% if left_button_entity is match 'light.' %}
              light.toggle
              {% elif left_button_entity is match 'switch.' %}
              switch.toggle
              {% elif left_button_entity is match 'cover.' %}
              cover.toggle
              {% elif left_button_entity is match 'input_boolean.' %}
              input_boolean.toggle
              {% endif %}
            data:
              entity_id: "{{ left_button_entity }}"
      #### Right button press
      - conditions:
          - condition: trigger
            id: right_button_press
        sequence:
          - service: >-
              {% if right_button_entity is match 'light.' %}
              light.toggle
              {% elif right_button_entity is match 'switch.' %}
              switch.toggle
              {% elif right_button_entity is match 'cover.' %}
              cover.toggle
              {% elif right_button_entity is match 'input_boolean.' %}
              input_boolean.toggle
              {% endif %}
            data:
              entity_id: "{{ right_button_entity }}"
      ### NSPanel boot init
      - conditions:
          - condition: trigger
            id: nspanel_boot_init
        sequence:
          #### NSPanel boot init start
          - delay:
              milliseconds: 100
          - service: "{{ command_text_printf }}"
            data:
              component: home.loading
              message: "Loading - PLS WAIT!"

          #### NSPanel boot init language
          - delay:
              milliseconds: 11
          - choose:
              #### NSPanel boot init language DE
              - conditions:
                  - condition: template
                    value_template: '{{ language == "DE" }}'
                sequence:
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather01.a01
                      message: Heute
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather02.a01
                      message: Morgen
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather03.a01
                      message: in 2 Tagen
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather04.a01
                      message: in 3 Tagen
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather05.a01
                      message: in 4 Tagen
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: settings.a06
                      message: Neustart
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: settings.a07
                      message: Sleep
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: settings.a08
                      message: Helligkeit
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: settings.a09
                      message: Dimmen
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: coversettings.a07
                      message: Rollo
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: coversettings.a08
                      message: Position
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: lightsettings.a07
                      message: Licht
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: lightsettings.a08
                      message: Helligkeit
                  ####### Date and Forecast
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: home.a02
                      message: "{{ date0_de }}"
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather01.a02
                      message: "{{ date0_de }}"
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather02.a02
                      message: "{{ date1_de }}"
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather03.a02
                      message: "{{ date2_de }}"
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather04.a02
                      message: "{{ date3_de }}"
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather05.a02
                      message: "{{ date4_de }}"

              #### NSPanel boot init language EN
              - conditions:
                  - condition: template
                    value_template: '{{ language == "EN" }}'
                sequence:
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather01.a01
                      message: Today
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather02.a01
                      message: Tomorrow
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather03.a01
                      message: in 2 Days
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather04.a01
                      message: in 3 Days
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather05.a01
                      message: in 4 Days
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: settings.a06
                      message: Reboot
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: settings.a07
                      message: Sleep
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: settings.a08
                      message: Brightness
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: settings.a09
                      message: Dimming
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: coversettings.a07
                      message: Cover
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: coversettings.a08
                      message: Position
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: lightsettings.a07
                      message: Light
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: lightsettings.a08
                      message: Brightness
                  ####### Date and Forecast
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: home.a02
                      message: "{{ date0_en }}"
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather01.a02
                      message: "{{ date0_en }}"
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather02.a02
                      message: "{{ date1_en }}"
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather03.a02
                      message: "{{ date2_en }}"
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather04.a02
                      message: "{{ date3_en }}"
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather05.a02
                      message: "{{ date4_de }}"

          #### NSPanel boot init buttons
          - delay:
              milliseconds: 11
          - repeat:
              for_each:
                - entity: "{{ entity01 }}"
                  button_label: "{{ entity01_name }}"
                  button: buttonpage01.button01
                - entity: "{{ entity02 }}"
                  button_label: "{{ entity02_name }}"
                  button: buttonpage01.button02
                - entity: "{{ entity03 }}"
                  button_label: "{{ entity03_name }}"
                  button: buttonpage01.button03
                - entity: "{{ entity04 }}"
                  button_label: "{{ entity04_name }}"
                  button: buttonpage01.button04
                - entity: "{{ entity05 }}"
                  button_label: "{{ entity05_name }}"
                  button: buttonpage01.button05
                - entity: "{{ entity06 }}"
                  button_label: "{{ entity06_name }}"
                  button: buttonpage01.button06
                - entity: "{{ entity07 }}"
                  button_label: "{{ entity07_name }}"
                  button: buttonpage01.button07
                - entity: "{{ entity08 }}"
                  button_label: "{{ entity08_name }}"
                  button: buttonpage01.button08
                - entity: "{{ entity09 }}"
                  button_label: "{{ entity09_name }}"
                  button: buttonpage02.button01
                - entity: "{{ entity10 }}"
                  button_label: "{{ entity10_name }}"
                  button: buttonpage02.button02
                - entity: "{{ entity11 }}"
                  button_label: "{{ entity11_name }}"
                  button: buttonpage02.button03
                - entity: "{{ entity12 }}"
                  button_label: "{{ entity12_name }}"
                  button: buttonpage02.button04
                - entity: "{{ entity13 }}"
                  button_label: "{{ entity13_name }}"
                  button: buttonpage02.button05
                - entity: "{{ entity14 }}"
                  button_label: "{{ entity14_name }}"
                  button: buttonpage02.button06
                - entity: "{{ entity15 }}"
                  button_label: "{{ entity15_name }}"
                  button: buttonpage02.button07
                - entity: "{{ entity16 }}"
                  button_label: "{{ entity16_name }}"
                  button: buttonpage02.button08
                - entity: "{{ entity17 }}"
                  button_label: "{{ entity17_name }}"
                  button: buttonpage03.button01
                - entity: "{{ entity18 }}"
                  button_label: "{{ entity18_name }}"
                  button: buttonpage03.button02
                - entity: "{{ entity19 }}"
                  button_label: "{{ entity19_name }}"
                  button: buttonpage03.button03
                - entity: "{{ entity20 }}"
                  button_label: "{{ entity20_name }}"
                  button: buttonpage03.button04
                - entity: "{{ entity21 }}"
                  button_label: "{{ entity21_name }}"
                  button: buttonpage03.button05
                - entity: "{{ entity22 }}"
                  button_label: "{{ entity22_name }}"
                  button: buttonpage03.button06
                - entity: "{{ entity23 }}"
                  button_label: "{{ entity23_name }}"
                  button: buttonpage03.button07
                - entity: "{{ entity24 }}"
                  button_label: "{{ entity24_name }}"
                  button: buttonpage03.button08
                - entity: "{{ entity25 }}"
                  button_label: "{{ entity17_name }}"
                  button: buttonpage04.button01
                - entity: "{{ entity26 }}"
                  button_label: "{{ entity26_name }}"
                  button: buttonpage04.button02
                - entity: "{{ entity27 }}"
                  button_label: "{{ entity27_name }}"
                  button: buttonpage04.button03
                - entity: "{{ entity28 }}"
                  button_label: "{{ entity28_name }}"
                  button: buttonpage04.button04
                - entity: "{{ entity29 }}"
                  button_label: "{{ entity29_name }}"
                  button: buttonpage04.button05
                - entity: "{{ entity30 }}"
                  button_label: "{{ entity30_name }}"
                  button: buttonpage04.button06
                - entity: "{{ entity31 }}"
                  button_label: "{{ entity31_name }}"
                  button: buttonpage04.button07
                - entity: "{{ entity32 }}"
                  button_label: "{{ entity32_name }}"
                  button: buttonpage04.button08
              sequence:
                - if:
                  - condition: template
                    value_template: '{{ repeat.item.entity|length > 0 }}'
                  then:
                    - variables:
                        component_to_update: "{{ repeat.item.button }}"
                        # Button PIC
                        btn_pic: >-
                          {%- if repeat.item.entity is match "light." and states[repeat.item.entity].state == 'on' -%} {{ button_light_on }}
                          {%- elif repeat.item.entity is match "light." and states[repeat.item.entity].state == 'off' -%} {{ button_light_off }}
                          {%- elif repeat.item.entity is match "switch." and states[repeat.item.entity].state == 'on' -%} {{ button_switch_on }}
                          {%- elif repeat.item.entity is match "switch." and states[repeat.item.entity].state == 'off' -%} {{ button_switch_off }}
                          {%- elif repeat.item.entity is match "input_boolean." and states[repeat.item.entity].state == 'on' -%} {{ button_switch_on }}
                          {%- elif repeat.item.entity is match "input_boolean." and states[repeat.item.entity].state == 'off' -%} {{ button_switch_off }}
                          {%- elif repeat.item.entity is match "cover." and states[repeat.item.entity].state == 'on' -%} {{ button_cover_on }}
                          {%- elif repeat.item.entity is match "cover." and states[repeat.item.entity].state == 'off' -%} {{ button_cover_off }}
                          {%- endif -%}
                        # TEXT and BRIGHTNESS Background
                        btn_bg: >-
                          {%- if states[repeat.item.entity].state == 'on' or states[repeat.item.entity].state == 'open' -%} {{ button_color_1 }}
                          {%- elif states[repeat.item.entity].state == 'off' or states[repeat.item.entity].state == 'closed' -%} {{ button_color_2 }}
                          {%- endif -%}
                        # TEXT Font
                        btn_txt_font: >-
                          {%- if states[repeat.item.entity].state == 'on' or states[repeat.item.entity].state == 'open' -%} {{ button_color_2 }}
                          {%- elif states[repeat.item.entity].state == 'off' or states[repeat.item.entity].state == 'closed' -%} {{ button_color_1 }}
                          {%- endif -%}
                        # BRIGHTNESS Font
                        btn_bri_font: "{{ button_color_2 }}"
                        # BTN Label
                        btn_label: "{{ repeat.item.button_label }}"
                        btn_bri_txt: >-
                          {%- if repeat.item.entity is match "light." and states(repeat.item.entity) == 'on' and state_attr(repeat.item.entity, "brightness") != None -%} {{ (state_attr(repeat.item.entity, "brightness") | int(255) * 100 /254) | round(0) }}%
                          {%- elif repeat.item.entity is match "cover." and states(repeat.item.entity) == 'open' and state_attr(repeat.item.entity, "current_position") != None -%} {{ (state_attr(repeat.item.entity, "current_position") | int(100)) | round(0) }}%
                          {%- else -%} 0
                          {%- endif -%}

                    ##### SET Buttons ####
                    #
                    ##### Button PIC #####
                    - service: "{{ command_printf }}"
                      data:
                        cmd: "{{ component_to_update }}pic.pic={{ btn_pic }}"
                    ##### TEXT Background #####
                    - delay:
                        milliseconds: 11
                    - service: "{{ command_background_color }}"
                      data:
                        component: "{{ component_to_update }}text"
                        message: "{{ btn_bg }}"
                    ##### TEXT Font Color #####
                    - delay:
                        milliseconds: 11
                    - service: "{{ command_font_color }}"
                      data:
                        component: "{{ component_to_update }}text"
                        message: "{{ btn_txt_font }}"
                    ##### BRIGHTNESS Background Color #####
                    - delay:
                        milliseconds: 11
                    - service: "{{ command_background_color }}"
                      data:
                        component: "{{ component_to_update }}bri"
                        message: "{{ btn_bg }}"
                    ##### BRIGHTNESS Font Color #####
                    - delay:
                        milliseconds: 11
                    - service: "{{ command_font_color }}"
                      data:
                        component: "{{ component_to_update }}bri"
                        message: "{{ btn_bri_font }}"
                    ##### "TEXT" Label #####
                    - delay:
                        milliseconds: 11
                    - service: "{{ command_text_printf }}"
                      data:
                        component: "{{ component_to_update }}text"
                        message: "{{ btn_label }}"
                    ##### "BRIGHTNESS" Text #####
                    - delay:
                        milliseconds: 11
                    - if:
                        - condition: template
                          value_template: "{{ btn_bri_txt == 0 }}"
                      then:
                        - service: "{{ command_text_printf }}"
                          data:
                            component: "{{ component_to_update }}bri"
                            message: " "
                      else:
                        - service: "{{ command_text_printf }}"
                          data:
                            component: "{{ component_to_update }}bri"
                            message: "{{ btn_bri_txt }}"

          #### NSPanel boot init weather
          - choose:
              #### Default weather
              - conditions:
                  - condition: template
                    value_template: '{{ weather == "Default" }}'
                sequence:
                  - if:
                      - condition: template
                        value_template: "{{states(ha_weather) == 'sunny'}}"
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: home.a05.pic=2
                  - if:
                      - condition: template
                        value_template: "{{states(ha_weather) == 'cloudy'}}"
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: home.a05.pic=3
                  - if:
                      - condition: template
                        value_template: "{{states(ha_weather) == 'rainy'}}"
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: home.a05.pic=4
                  - if:
                      - condition: template
                        value_template: "{{states(ha_weather) == 'pouring'}}"
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: home.a05.pic=5
                  - if:
                      - condition: template
                        value_template: "{{states(ha_weather) == 'snowy'}}"
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: home.a05.pic=6
                  - if:
                      - condition: template
                        value_template: "{{states(ha_weather) == 'hail'}}"
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: home.a05.pic=7
                  - if:
                      - condition: template
                        value_template: "{{states(ha_weather) == 'snowy-rainy'}}"
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: home.a05.pic=7
                  - if:
                      - condition: template
                        value_template: "{{states(ha_weather) == 'fog'}}"
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: home.a05.pic=8
                  - if:
                      - condition: template
                        value_template: "{{states(ha_weather) == 'windy'}}"
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: home.a05.pic=9
                  - if:
                      - condition: template
                        value_template: "{{states(ha_weather) == 'windy-variant'}}"
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: home.a05.pic=9
                  - if:
                      - condition: template
                        value_template: "{{states(ha_weather) == 'lightning'}}"
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: home.a05.pic=10
                  - if:
                      - condition: template
                        value_template: "{{states(ha_weather) == 'partlycloudy' and states('sun.sun') == 'above_horizon' }}"
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: home.a05.pic=11
                  - if:
                      - condition: template
                        value_template: "{{states(ha_weather) == 'partlycloudy' and states('sun.sun') == 'below_horizon' }}"
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: home.a05.pic=12
                  - if:
                      - condition: template
                        value_template: "{{states(ha_weather) == 'lightning-rainy' and states('sun.sun') == 'above_horizon'}}"
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: home.a05.pic=13
                  - if:
                      - condition: template
                        value_template: "{{states(ha_weather) == 'lightning-rainy' and states('sun.sun') == 'below_horizon'}}"
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: home.a05.pic=14
                  - if:
                      - condition: template
                        value_template: "{{states(ha_weather) == 'execptional' and states('sun.sun') == 'above_horizon'}}"
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: home.a05.pic=13
                  - if:
                      - condition: template
                        value_template: "{{states(ha_weather) == 'execptional' and states('sun.sun') == 'below_horizon'}}"
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: home.a05.pic=14
                  - if:
                      - condition: template
                        value_template: "{{states(ha_weather) == 'clear-night'}}"
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: home.a05.pic=15

                  ##### Weather Forcast Today Symbole Home Meteorologisk HA Default #####
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[0].condition
                          == ''sunny''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather01.a03.pic=2
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[0].condition
                          == ''cloudy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather01.a03.pic=3
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[0].condition
                          == ''rainy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather01.a03.pic=4
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[0].condition
                          == ''pouring''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather01.a03.pic=5
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[0].condition
                          == ''snowy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather01.a03.pic=6
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[0].condition
                          == ''hail''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather01.a03.pic=7
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[0].condition
                          == ''snowy-rainy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather01.a03.pic=7
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[0].condition
                          == ''fog''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather01.a03.pic=8
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[0].condition
                          == ''windy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather01.a03.pic=9
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[0].condition
                          == ''windy-variant''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather01.a03.pic=9
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[0].condition
                          == ''lightning''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather01.a03.pic=10
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[0].condition
                          == ''partlycloudy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather01.a03.pic=11
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[0].condition
                          == ''lightning-rainy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather01.a03.pic=13
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[0].condition
                          == ''execptional''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather01.a03.pic=13
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[0].condition
                          == ''clear-night''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather01.a03.pic=15

                  ##### Weather Forcast Day 1 Symbole Home Meteorologisk HA Default #####
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[1].condition
                          == ''sunny''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather02.a03.pic=2
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[1].condition
                          == ''cloudy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather02.a03.pic=3
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[1].condition
                          == ''rainy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather02.a03.pic=4
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[1].condition
                          == ''pouring''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather02.a03.pic=5
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[1].condition
                          == ''snowy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather02.a03.pic=6
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[1].condition
                          == ''hail''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather02.a03.pic=7
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[1].condition
                          == ''snowy-rainy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather02.a03.pic=7
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[1].condition
                          == ''fog''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather02.a03.pic=8
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[1].condition
                          == ''windy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather02.a03.pic=9
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[1].condition
                          == ''windy-variant''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather02.a03.pic=9
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[1].condition
                          == ''lightning''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather02.a03.pic=10
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[1].condition
                          == ''partlycloudy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather02.a03.pic=11
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[1].condition
                          == ''lightning-rainy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather02.a03.pic=13
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[1].condition
                          == ''execptional''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather02.a03.pic=13
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[1].condition
                          == ''clear-night''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather02.a03.pic=15

                  ##### Weather Forcast Day 2 Symbole Home Meteorologisk HA Default #####
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[2].condition
                          == ''sunny''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather03.a03.pic=2
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[2].condition
                          == ''cloudy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather03.a03.pic=3
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[2].condition
                          == ''rainy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather03.a03.pic=4
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[2].condition
                          == ''pouring''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather03.a03.pic=5
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[2].condition
                          == ''snowy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather03.a03.pic=6
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[2].condition
                          == ''hail''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather03.a03.pic=7
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[2].condition
                          == ''snowy-rainy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather03.a03.pic=7
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[2].condition
                          == ''fog''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather03.a03.pic=8
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[2].condition
                          == ''windy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather03.a03.pic=9
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[2].condition
                          == ''windy-variant''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather03.a03.pic=9
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[2].condition
                          == ''lightning''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather03.a03.pic=10
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[2].condition
                          == ''partlycloudy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather03.a03.pic=11
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[2].condition
                          == ''lightning-rainy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather03.a03.pic=13
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[2].condition
                          == ''execptional''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather03.a03.pic=13
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[2].condition
                          == ''clear-night''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather03.a03.pic=15

                  ##### Weather Forcast Day 3 Symbole Home Meteorologisk HA Default #####
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[3].condition
                          == ''sunny''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather04.a03.pic=2
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[3].condition
                          == ''cloudy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather04.a03.pic=3
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[3].condition
                          == ''rainy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather04.a03.pic=4
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[3].condition
                          == ''pouring''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather04.a03.pic=5
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[3].condition
                          == ''snowy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather04.a03.pic=6
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[3].condition
                          == ''hail''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather04.a03.pic=7
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[3].condition
                          == ''snowy-rainy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather04.a03.pic=7
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[3].condition
                          == ''fog''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather04.a03.pic=8
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[3].condition
                          == ''windy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather04.a03.pic=9
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[3].condition
                          == ''windy-variant''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather04.a03.pic=9
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[3].condition
                          == ''lightning''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather04.a03.pic=10
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[3].condition
                          == ''partlycloudy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather04.a03.pic=11
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[3].condition
                          == ''lightning-rainy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather04.a03.pic=13
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[3].condition
                          == ''execptional''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather04.a03.pic=13
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[3].condition
                          == ''clear-night''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather04.a03.pic=15

                  ##### Weather Forcast Day 4 Symbole Home Meteorologisk HA Default #####
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[4].condition
                          == ''sunny''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather05.a03.pic=2
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[4].condition
                          == ''cloudy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather05.a03.pic=3
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[4].condition
                          == ''rainy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather05.a03.pic=4
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[4].condition
                          == ''pouring''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather05.a03.pic=5
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[4].condition
                          == ''snowy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather05.a03.pic=6
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[4].condition
                          == ''hail''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather05.a03.pic=7
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[4].condition
                          == ''snowy-rainy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather05.a03.pic=7
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[4].condition
                          == ''fog''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather05.a03.pic=8
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[4].condition
                          == ''windy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather05.a03.pic=9
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[4].condition
                          == ''windy-variant''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather05.a03.pic=9
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[4].condition
                          == ''lightning''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather05.a03.pic=10
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[4].condition
                          == ''partlycloudy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather05.a03.pic=11
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[4].condition
                          == ''lightning-rainy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather05.a03.pic=13
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[4].condition
                          == ''execptional''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather05.a03.pic=13
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(ha_weather,"forecast")[4].condition
                          == ''clear-night''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather05.a03.pic=15

                  ##### Weather Forcast Today "TEMP" Home Meteorologisk HA Default #####
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather01.a04 ### Temperature MIN ###
                      message: " "
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather01.a05 ### Temperature MAX ###
                      message: '{{state_attr(ha_weather,"temperature") | round(0)}}'

                  ##### Weather Forcast Day 1 "TEMP" Home Meteorologisk HA Default #####
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather02.a04 ### Temperature MIN ###
                      message: '{{state_attr(ha_weather,"forecast")[1].templow | round(0)}}'
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather02.a05 ### Temperature MAX ###
                      message: '{{state_attr(ha_weather,"forecast")[1].temperature | round(0)}}'

                  ##### Weather Forcast Day 2 "TEMP" Home Meteorologisk HA Default #####
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather03.a04 ### Temperature MIN ###
                      message: '{{state_attr(ha_weather,"forecast")[2].templow | round(0)}}'
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather03.a05 ### Temperature MAX ###
                      message: '{{state_attr(ha_weather,"forecast")[2].temperature | round(0)}}'

                  ##### Weather Forcast Day 3 "TEMP" Home Meteorologisk HA Default #####
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather04.a04 ### Temperature MIN ###
                      message: '{{state_attr(ha_weather,"forecast")[3].templow | round(0)}}'
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather04.a05 ### Temperature MAX ###
                      message: '{{state_attr(ha_weather,"forecast")[3].temperature | round(0)}}'

                  ##### Weather Forcast Day 4 "TEMP" Home Meteorologisk HA Default #####
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather05.a04 ### Temperature MIN ###
                      message: '{{state_attr(ha_weather,"forecast")[4].templow | round(0)}}'
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather05.a05 ### Temperature MAX ###
                      message: '{{state_attr(ha_weather,"forecast")[4].temperature | round(0)}}'

              #### Accuweather
              - conditions:
                  - condition: template
                    value_template: '{{ weather == "AccuWeather" }}'
                sequence:
                  - if:
                      - condition: template
                        value_template: "{{states(accuweather_home) == 'sunny'}}"
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: home.a05.pic=2
                  - if:
                      - condition: template
                        value_template: "{{states(accuweather_home) == 'cloudy'}}"
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: home.a05.pic=3
                  - if:
                      - condition: template
                        value_template: "{{states(accuweather_home) == 'rainy'}}"
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: home.a05.pic=4
                  - if:
                      - condition: template
                        value_template: "{{states(accuweather_home) == 'pouring'}}"
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: home.a05.pic=5
                  - if:
                      - condition: template
                        value_template: "{{states(accuweather_home) == 'snowy'}}"
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: home.a05.pic=6
                  - if:
                      - condition: template
                        value_template: "{{states(accuweather_home) == 'hail'}}"
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: home.a05.pic=7
                  - if:
                      - condition: template
                        value_template: "{{states(accuweather_home) == 'snowy-rainy'}}"
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: home.a05.pic=7
                  - if:
                      - condition: template
                        value_template: "{{states(accuweather_home) == 'fog'}}"
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: home.a05.pic=8
                  - if:
                      - condition: template
                        value_template: "{{states(accuweather_home) == 'windy'}}"
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: home.a05.pic=9
                  - if:
                      - condition: template
                        value_template: "{{states(accuweather_home) == 'windy-variant'}}"
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: home.a05.pic=9
                  - if:
                      - condition: template
                        value_template: "{{states(accuweather_home) == 'lightning'}}"
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: home.a05.pic=10
                  - if:
                      - condition: template
                        value_template: "{{states(accuweather_home) == 'partlycloudy' and states('sun.sun') == 'above_horizon' }}"
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: home.a05.pic=11
                  - if:
                      - condition: template
                        value_template: "{{states(accuweather_home) == 'partlycloudy' and states('sun.sun') == 'below_horizon' }}"
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: home.a05.pic=12
                  - if:
                      - condition: template
                        value_template: "{{states(accuweather_home) == 'lightning-rainy' and states('sun.sun') == 'above_horizon'}}"
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: home.a05.pic=13
                  - if:
                      - condition: template
                        value_template: "{{states(accuweather_home) == 'lightning-rainy' and states('sun.sun') == 'below_horizon'}}"
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: home.a05.pic=14
                  - if:
                      - condition: template
                        value_template: "{{states(accuweather_home) == 'execptional' and states('sun.sun') == 'above_horizon'}}"
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: home.a05.pic=13
                  - if:
                      - condition: template
                        value_template: "{{states(accuweather_home) == 'execptional' and states('sun.sun') == 'below_horizon'}}"
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: home.a05.pic=14
                  - if:
                      - condition: template
                        value_template: "{{states(accuweather_home) == 'clear-night'}}"
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: home.a05.pic=15

                  ##### Weather Forcast Today Symbole "AccuWeather" #####
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[0].condition
                          == ''sunny''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather01.a03.pic=2
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[0].condition
                          == ''cloudy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather01.a03.pic=3
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[0].condition
                          == ''rainy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather01.a03.pic=4
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[0].condition
                          == ''pouring''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather01.a03.pic=5
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[0].condition
                          == ''snowy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather01.a03.pic=6
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[0].condition
                          == ''hail''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather01.a03.pic=7
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[0].condition
                          == ''snowy-rainy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather01.a03.pic=7
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[0].condition
                          == ''fog''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather01.a03.pic=8
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[0].condition
                          == ''windy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather01.a03.pic=9
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[0].condition
                          == ''windy-variant''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather01.a03.pic=9
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[0].condition
                          == ''lightning''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather01.a03.pic=10
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[0].condition
                          == ''partlycloudy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather01.a03.pic=11
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[0].condition
                          == ''lightning-rainy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather01.a03.pic=13
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[0].condition
                          == ''execptional''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather01.a03.pic=13
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[0].condition
                          == ''clear-night''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather01.a03.pic=15

                  ##### Weather Forcast Day 1 Symbole "AccuWeather" #####
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[1].condition
                          == ''sunny''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather02.a03.pic=2
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[1].condition
                          == ''cloudy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather02.a03.pic=3
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[1].condition
                          == ''rainy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather02.a03.pic=4
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[1].condition
                          == ''pouring''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather02.a03.pic=5
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[1].condition
                          == ''snowy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather02.a03.pic=6
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[1].condition
                          == ''hail''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather02.a03.pic=7
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[1].condition
                          == ''snowy-rainy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather02.a03.pic=7
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[1].condition
                          == ''fog''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather02.a03.pic=8
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[1].condition
                          == ''windy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather02.a03.pic=9
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[1].condition
                          == ''windy-variant''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather02.a03.pic=9
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[1].condition
                          == ''lightning''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather02.a03.pic=10
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[1].condition
                          == ''partlycloudy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather02.a03.pic=11
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[1].condition
                          == ''lightning-rainy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather02.a03.pic=13
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[1].condition
                          == ''execptional''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather02.a03.pic=13
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[1].condition
                          == ''clear-night''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather02.a03.pic=15

                  ##### Weather Forcast Day 2 Symbole "AccuWeather" #####
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[2].condition
                          == ''sunny''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather03.a03.pic=2
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[2].condition
                          == ''cloudy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather03.a03.pic=3
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[2].condition
                          == ''rainy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather03.a03.pic=4
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[2].condition
                          == ''pouring''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather03.a03.pic=5
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[2].condition
                          == ''snowy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather03.a03.pic=6
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[2].condition
                          == ''hail''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather03.a03.pic=7
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[2].condition
                          == ''snowy-rainy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather03.a03.pic=7
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[2].condition
                          == ''fog''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather03.a03.pic=8
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[2].condition
                          == ''windy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather03.a03.pic=9
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[2].condition
                          == ''windy-variant''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather03.a03.pic=9
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[2].condition
                          == ''lightning''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather03.a03.pic=10
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[2].condition
                          == ''partlycloudy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather03.a03.pic=11
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[2].condition
                          == ''lightning-rainy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather03.a03.pic=13
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[2].condition
                          == ''execptional''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather03.a03.pic=13
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[2].condition
                          == ''clear-night''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather03.a03.pic=15

                  ##### Weather Forcast Day 3 Symbole "AccuWeather" #####
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[3].condition
                          == ''sunny''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather04.a03.pic=2
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[3].condition
                          == ''cloudy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather04.a03.pic=3
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[3].condition
                          == ''rainy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather04.a03.pic=4
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[3].condition
                          == ''pouring''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather04.a03.pic=5
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[3].condition
                          == ''snowy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather04.a03.pic=6
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[3].condition
                          == ''hail''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather04.a03.pic=7
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[3].condition
                          == ''snowy-rainy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather04.a03.pic=7
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[3].condition
                          == ''fog''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather04.a03.pic=8
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[3].condition
                          == ''windy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather04.a03.pic=9
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[3].condition
                          == ''windy-variant''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather04.a03.pic=9
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[3].condition
                          == ''lightning''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather04.a03.pic=10
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[3].condition
                          == ''partlycloudy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather04.a03.pic=11
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[3].condition
                          == ''lightning-rainy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather04.a03.pic=13
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[3].condition
                          == ''execptional''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather04.a03.pic=13
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[3].condition
                          == ''clear-night''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather04.a03.pic=15

                  ##### Weather Forcast Day 4 Symbole "AccuWeather" #####
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[4].condition
                          == ''sunny''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather05.a03.pic=2
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[4].condition
                          == ''cloudy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather05.a03.pic=3
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[4].condition
                          == ''rainy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather05.a03.pic=4
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[4].condition
                          == ''pouring''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather05.a03.pic=5
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[4].condition
                          == ''snowy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather05.a03.pic=6
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[4].condition
                          == ''hail''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather05.a03.pic=7
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[4].condition
                          == ''snowy-rainy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather05.a03.pic=7
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[4].condition
                          == ''fog''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather05.a03.pic=8
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[4].condition
                          == ''windy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather05.a03.pic=9
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[4].condition
                          == ''windy-variant''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather05.a03.pic=9
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[4].condition
                          == ''lightning''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather05.a03.pic=10
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[4].condition
                          == ''partlycloudy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather05.a03.pic=11
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[4].condition
                          == ''lightning-rainy''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather05.a03.pic=13
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[4].condition
                          == ''execptional''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather05.a03.pic=13
                  - if:
                      - condition: template
                        value_template:
                          '{{state_attr(accuweather_home,"forecast")[4].condition
                          == ''clear-night''}}'
                    then:
                      - service: "{{ command_printf }}"
                        data:
                          cmd: weather05.a03.pic=15

                  ##### Weather Forcast Today "TEMP" "AccuWeather" #####
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather01.a04 ### Temperature MIN ###
                      message: "{{states(accuweather_realfeel_temperature_min_0d) | round(0)}}"
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather01.a05 ### Temperature MAX ###
                      message: "{{states(accuweather_realfeel_temperature_max_0d) | round(0)}}"

                  ##### Weather Forcast Day 1 "TEMP" "AccuWeather" #####
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather02.a04 ### Temperature MIN ###
                      message: "{{states(accuweather_realfeel_temperature_min_1d) | round(0)}}"
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather02.a05 ### Temperature MAX ###
                      message: "{{states(accuweather_realfeel_temperature_max_1d) | round(0)}}"

                  ##### Weather Forcast Day 2 "TEMP" "AccuWeather" #####
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather03.a04 ### Temperature MIN ###
                      message: "{{states(accuweather_realfeel_temperature_min_2d) | round(0)}}"
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather03.a05 ### Temperature MAX ###
                      message: "{{states(accuweather_realfeel_temperature_max_2d) | round(0)}}"

                  ##### Weather Forcast Day 3 "TEMP" "AccuWeather" #####
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather04.a04 ### Temperature MIN ###
                      message: "{{states(accuweather_realfeel_temperature_min_3d) | round(0)}}"
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather04.a05 ### Temperature MAX ###
                      message: "{{states(accuweather_realfeel_temperature_max_3d) | round(0)}}"

                  ##### Weather Forcast Day 4 "TEMP" "AccuWeather" #####
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather05.a04 ### Temperature MIN ###
                      message: "{{states(accuweather_realfeel_temperature_min_4d) | round(0)}}"
                  - service: "{{ command_text_printf }}"
                    data:
                      component: weather05.a05 ### Temperature MAX ###
                      message: "{{states(accuweather_realfeel_temperature_max_4d) | round(0)}}"


          #### NSPanel boot init entities
          ### Time
          - delay:
              milliseconds: 11
          - service: "{{ command_text_printf }}"
            data:
              component: home.a01
              message: "{{ time }}"
          ### Humidity
          - delay:
              milliseconds: 11
          - service: "{{ command_text_printf }}"
            data:
              component: home.a04
              message: "{{ states(humidity) |round(0) }}%"
          ### Hotwater
          - if:
              - condition: template
                value_template: '{{ hotwatertemp is match "sensor." }}'
            then:
              - delay:
                  milliseconds: 11
              - service: "{{ command_text_printf }}"
                data:
                  component: home.a07
                  message: "{{ states(hotwatertemp) |round(1) }}"
              - delay:
                  milliseconds: 11
              - service: "{{ command_text_printf }}"
                data:
                  component: thermostat.a08
                  message: "{{ states(hotwatertemp) |round(1) }}"
              - delay:
                  milliseconds: 11
              - service: "{{ command_printf }}"
                data:
                  cmd: home.p01.pic=68
          ### Outdoor Temp 
          - choose:
              ### Outdoor Temp Entity
              - conditions:
                  - condition: template
                    value_template: '{{ outdoortemp is match "sensor." }}'
                sequence:
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: home.a06
                      message: "{{ states(outdoortemp) |round(0) }}"
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: thermostat.a07
                      message: "{{ states(outdoortemp) |round(0) }}"
              ### Outdoor Temp Default
              - conditions:
                  - condition: template
                    value_template: '{{ outdoortemp == "default" }}'
                sequence:
                  ### Outdoor Temp Default
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: home.a06
                      message: '{{state_attr(ha_weather,"temperature") | round(0)}}'
                  - delay:
                      milliseconds: 11
                  - service: "{{ command_text_printf }}"
                    data:
                      component: thermostat.a07
                      message: '{{state_attr(ha_weather,"temperature") | round(0)}}'
              ### Outdoor TempAccuweather
              - conditions:
                  - condition: template
                    value_template: '{{ outdoortemp == "accuweather" }}'
                sequence:
                  ### Outdoor TempAccuweather
                  - service: "{{ command_text_printf }}"
                    data:
                      component: home.a06
                      message: "{{states(accuweather_realfeel_temperature_max_0d) | round(0)}}"
                  - service: "{{ command_text_printf }}"
                    data:
                      component: thermostat.a07
                      message: "{{states(accuweather_realfeel_temperature_max_0d) | round(0)}}"

          #### NSPanel boot init finished
          - delay:
              milliseconds: 11
          - service: "{{ command_text_printf }}"
            data:
              component: home.loading
              message: " "

  ##### Date Home Page + Forcast DE #####
  - choose:
      - conditions:
          - condition: trigger
            id:
              # - nspanel_boot_language
              - time_state
          - condition: template
            value_template: '{{ language == "DE" }}'
        sequence:
          - service: "{{ command_text_printf }}"
            data:
              component: home.a02
              message: "{{ date0_de }}"
          - service: "{{ command_text_printf }}"
            data:
              component: weather01.a02
              message: "{{ date0_de }}"
          - service: "{{ command_text_printf }}"
            data:
              component: weather02.a02
              message: "{{ date1_de }}"
          - service: "{{ command_text_printf }}"
            data:
              component: weather03.a02
              message: "{{ date2_de }}"
          - service: "{{ command_text_printf }}"
            data:
              component: weather04.a02
              message: "{{ date3_de }}"
          - service: "{{ command_text_printf }}"
            data:
              component: weather05.a02
              message: "{{ date4_de }}"

  ##### Date Home Page + Forcast EN #####
  - choose:
      - conditions:
          - condition: trigger
            id:
              # - nspanel_boot_language
              - time_state
          - condition: template
            value_template: '{{ language == "EN" }}'
        sequence:
          - service: "{{ command_text_printf }}"
            data:
              component: home.a02
              message: "{{ date0_en }}"
          - service: "{{ command_text_printf }}"
            data:
              component: weather01.a02
              message: "{{ date0_en }}"
          - service: "{{ command_text_printf }}"
            data:
              component: weather02.a02
              message: "{{ date1_en }}"
          - service: "{{ command_text_printf }}"
            data:
              component: weather03.a02
              message: "{{ date2_en }}"
          - service: "{{ command_text_printf }}"
            data:
              component: weather04.a02
              message: "{{ date3_en }}"
          - service: "{{ command_text_printf }}"
            data:
              component: weather05.a02
              message: "{{ date4_de }}"

  ##### Time Home Page Loading#####
  - choose:
      - conditions:
          - condition: trigger
            id:
              # - nspanel_boot_entities
              - time_state
        sequence:
          - service: "{{ command_text_printf }}"
            data:
              component: home.a01
              message: "{{ time }}"





  ##################################################
  ##### ACTION - SHORT Press an LONG Press Button Page ##########################################################################################################################################################
  ##################################################





  ##### ACTION - Page Button - SHORT Press - Toggle Enities #####
  - choose:
      - conditions:
          - condition: trigger
            id: short_press
        sequence:
          - service: >-
              {% if entity_short is match 'light.' %}
              light.toggle
              {% elif entity_short is match 'switch.' %}
              switch.toggle
              {% elif entity_short is match 'cover.' %}
              cover.toggle
              {% elif entity_short is match 'input_boolean.' %}
              input_boolean.toggle
              {% endif %}
            data:
              entity_id: "{{ entity_short }}"





  ##################################################
  ##### ACTION - Light Setting Page ##########################################################################################################################################################
  ##################################################





  ##### ACTION -  Page Lightsettings - JUMP to Page Lightsettings and SYNC Light Settings #####
  - choose:
      - conditions:
          - condition: trigger
            id: long_press
        sequence:
          ##### send some current Values to Cover Setting page #####
          - if:
              - condition: template
                value_template: '{{ entity_long is match "light." }}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: page lightsettings
              - delay:
                  milliseconds: 5
              - service: "{{ command_value }}"
                data:
                  component: lightsettings.lightslider
                  message: '{{ (state_attr(entity_long, "brightness") | int ) |round(0) }}'
              - delay:
                  milliseconds: 10
              - service: "{{ command_text_printf }}"
                data:
                  component: lightsettings.light_name
                  message: '{{ entity_long_name }}'
              - delay:
                  milliseconds: 15
              - service: "{{ command_text_printf }}"
                data:
                  component: lightsettings.light_value
                  message: '{{ (state_attr(entity_long, "brightness") | int * 100 / 255) |round(0) }} %'
              - delay:
                  milliseconds: 20
              - service: "{{ command_text_printf }}"
                data:
                  component: lightsettings.light_value_2
                  message: '{{ (state_attr(entity_long, "brightness") | int * 100 / 255) |round(0) }} %'
          ##### Light PIC - ON #####
          - if:
              - condition: template
                value_template: '{{ states(entity_long) == "on" }}'
            then:
              - delay:
                  milliseconds: 25
              - service: "{{ command_printf }}"
                data:
                  cmd: lightsettings.light_status.pic={{ light_pic_on }}
          ##### Light PIC - OFF #####
          - if:
              - condition: template
                value_template: '{{ states(entity_long) == "off" }}'
            then:
              - delay:
                  milliseconds: 25
              - service: "{{ command_printf }}"
                data:
                  cmd: lightsettings.light_status.pic={{ light_pic_off }}
          ##### Check Color_Temp Value is available when yes send some current Values #####
          - if:
              - condition: template
                value_template: "{{ state_attr(entity_long, 'color_temp') != none }}"
            then:
              - delay:
                  milliseconds: 30
              - service: "{{ command_text_printf }}"
                data:
                  component: lightsettings.temp_value
                  message: '{{ (state_attr(entity_long, "color_temp") | int ) |round(0) }}'
              - delay:
                  milliseconds: 35
              - service: "{{ command_text_printf }}"
                data:
                  component: lightsettings.temp_value_2
                  message: '{{ (state_attr(entity_long, "color_temp") | int ) |round(0) }}'
              - delay:
                  milliseconds: 40
              - service: "{{ command_value }}"
                data:
                  component: lightsettings.tempslider
                  message: '{{ (state_attr(entity_long, "color_temp") | int ) |round(0) }}'





  ##### ACTION -  Page Lightsettings - Changes from HA #####
  - choose:
      - conditions:
          - condition: trigger
            id: 
              - current_state_entity01
              - current_state_entity02
              - current_state_entity03
              - current_state_entity04
              - current_state_entity05
              - current_state_entity06
              - current_state_entity07
              - current_state_entity08
              - current_state_entity09
              - current_state_entity10
              - current_state_entity11
              - current_state_entity12
              - current_state_entity13
              - current_state_entity14
              - current_state_entity15
              - current_state_entity16
              - current_state_entity17
              - current_state_entity18
              - current_state_entity19
              - current_state_entity20
              - current_state_entity21
              - current_state_entity22
              - current_state_entity23
              - current_state_entity24
              - current_state_entity25
              - current_state_entity26
              - current_state_entity27
              - current_state_entity28
              - current_state_entity29
              - current_state_entity30
              - current_state_entity31
              - current_state_entity32
        sequence:
          ##### Light PIC - ON #####
          - if:
              - condition: template
                value_template: '{{ states(entity_long) == "on" }}'
            then:
              - delay:
                  milliseconds: 5
              - service: "{{ command_printf }}"
                data:
                  cmd: lightsettings.light_status.pic={{ light_pic_on }}
          ##### Light PIC - OFF #####
          - if:
              - condition: template
                value_template: '{{ states(entity_long) == "off" }}'
            then:
              - delay:
                  milliseconds: 5
              - service: "{{ command_printf }}"
                data:
                  cmd: lightsettings.light_status.pic={{ light_pic_off }}
          ##### Brightness Slider HA Sync - YES #####
          - if:
              - condition: template
                value_template: '{{ entity_long is match "light." and sync_slider_ha == "select_yes" }}'
            then:
              - delay:
                  milliseconds: 5
              - service: "{{ command_value }}"
                data:
                  component: lightsettings.lightslider
                  message: '{{ (state_attr(entity_long, "brightness") | int ) |round(0) }}'
          ##### Temp Slider HA Sync - YES #####
          - if:
              - condition: template
                value_template: '{{ state_attr(entity_long, "color_temp") != none and sync_slider_ha == "select_yes" }}'
            then:
              - delay:
                  milliseconds: 10
              - service: "{{ command_value }}"
                data:
                  component: lightsettings.tempslider
                  message: '{{ (state_attr(entity_long, "color_temp") | int ) |round(0) }}'             
          ##### Brightness Value HA Sync - YES #####
          - if:
              - condition: template
                value_template: '{{ entity_long is match "light." and sync_value_ha == "select_yes" }}'
            then:
              - delay:
                  milliseconds: 10
              - service: "{{ command_text_printf }}"
                data:
                  component: lightsettings.light_value
                  message: '{{ (state_attr(entity_long, "brightness") | int * 100 / 255) |round(0) }} %'
              - delay:
                  milliseconds: 15
              - service: "{{ command_text_printf }}"
                data:
                  component: lightsettings.light_value_2
                  message: '{{ (state_attr(entity_long, "brightness") | int * 100 / 255) |round(0) }} %'
          ##### Temp Value HA Sync - YES #####
          - if:
              - condition: template
                value_template: '{{ state_attr(entity_long, "color_temp") != none and sync_value_ha == "select_yes" }}'
            then:
              - delay:
                  milliseconds: 20
              - service: "{{ command_text_printf }}"
                data:
                  component: lightsettings.temp_value
                  message: '{{ (state_attr(entity_long, "color_temp") | int ) |round(0) }}'
              - delay:
                  milliseconds: 25
              - service: "{{ command_text_printf }}"
                data:
                  component: lightsettings.temp_value_2
                  message: '{{ (state_attr(entity_long, "color_temp") | int ) |round(0) }}'





  ##### ACTION - Page Lightsettings - Brightness Slider MOVE #####
  - choose:
      - conditions:
          - condition: trigger
            id: light_settings
          - condition: template
            value_template: '{{ states(last_click_lightsettings) is match "brightness\d+" }}'
        sequence:
          - service: light.turn_on
            data:
              entity_id: "{{ entity_long }}"
              brightness: '{{ states(last_click_lightsettings) |replace("brightness","") | int }}'
          - service: "{{ command_text_printf }}"
            data:
              component: lightsettings.light_value
              message: '{{ ((states(last_click_lightsettings) |replace("brightness","") | int) * 100 /255) |round(0) }} %'
          - service: "{{ command_text_printf }}"
            data:
              component: lightsettings.light_value_2
              message: '{{ ((states(last_click_lightsettings) |replace("brightness","") | int) * 100 /255) |round(0) }} %'





  ##### ACTION - Page Lightsettings - color_Temp Slider MOVE #####
  - choose:
      - conditions:
          - condition: trigger
            id: light_settings
          - condition: template
            value_template: '{{ states(last_click_lightsettings) is match "colortemp\d+" }}'
        sequence:
          - service: light.turn_on
            data:
              entity_id: "{{ entity_long }}"
              color_temp: '{{ states(last_click_lightsettings) |replace("colortemp","") | int }}'
          - service: "{{ command_text_printf }}"
            data:
              component: lightsettings.temp_value
              message: '{{ states(last_click_lightsettings) |replace("colortemp","") | int }}'
          - service: "{{ command_text_printf }}"
            data:
              component: lightsettings.temp_value_2
              message: '{{ states(last_click_lightsettings) |replace("colortemp","") | int }}'





  ##### ACTION -  Page Lightsettings - Color RGB Slider MOVE #####
  - choose:
      - conditions:
          - condition: trigger
            id: light_settings
          - condition: template
            value_template: '{{ states(last_click_lightsettings) is match "\d+,\d+,\d+" }}'
        sequence:
          - service: light.turn_on
            data:
              entity_id: "{{ entity_long }}"
              rgb_color: '{{ states(last_click_lightsettings).split(",") }}'





  ##### ACTION - Page Lightsettings - Close Lightsetting Page #####
  - choose:
      - conditions:
          - condition: trigger
            id: light_settings
          - condition: template
            value_template: '{{ states(last_click_lightsettings) == "releaselightsettingsclose" }}'
        sequence:
          - service: "{{ command_printf }}"
            data:
              cmd: "{{ entity_back }}"





  ##################################################
  ##### ACTION - Cover Setting Page ##########################################################################################################################################################
  ##################################################





  ##### ACTION - Page Coversettings - JUMP to Page Coversettings and SYNC Cover Settings #####
  - choose:
      - conditions:
          - condition: trigger
            id: long_press
        sequence:
          ##### send some current Values to Cover Setting page #####
          - if:
              - condition: template
                value_template: '{{ entity_long is match "cover." }}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: page coversettings
              - delay:
                  milliseconds: 2
              - service: "{{ command_value }}"
                data:
                  component: coversettings.coverslider
                  message: '{{ (state_attr(entity_long, "current_position") | int ) |round(0) }}'
              - delay:
                  milliseconds: 3
              - service: "{{ command_text_printf }}"
                data:
                  component: coversettings.cover_value
                  message: '{{ (state_attr(entity_long, "current_position") | int ) |round(0) }} %'
              - delay:
                  milliseconds: 4
              - service: "{{ command_text_printf }}"
                data:
                  component: coversettings.cover_name
                  message: '{{ entity_long_name }}'
          ##### Cover PIC - open #####
          - if:
              - condition: template
                value_template: '{{ states(entity_long) == "open" }}'
            then:
              - delay:
                  milliseconds: 5
              - service: "{{ command_printf }}"
                data:
                  cmd: coversettings.cover_status.pic={{ cover_pic_open }}
          ##### Cover PIC - Closed
          - if:
              - condition: template
                value_template: '{{ states(entity_long) == "closed" }}'
            then:
              - delay:
                  milliseconds: 6
              - service: "{{ command_printf }}"
                data:
                  cmd: coversettings.cover_status.pic={{ cover_pic_closed }}
          ##### Cover Battery ICON Yes / NO #####
          - if:
              - condition: template
                value_template: "{{ state_attr(entity_long, 'battery') != none }}"
            then:
              - delay:
                  milliseconds: 7
              - service: "{{ command_text_printf }}"
                data:
                  component: coversettings.battery_value
                  message: '{{ (state_attr(entity_long, "battery") | int ) |round(0) }} %'
              - service: "{{ command_printf }}"
                data:
                  cmd: coversettings.battery_icon.pic={{ battery_icon }}





  ##### ACTION - Page Coversettings - Changes from HA #####
  - choose:
      - conditions:
          - condition: trigger
            id: 
              - current_state_entity01
              - current_state_entity02
              - current_state_entity03
              - current_state_entity04
              - current_state_entity05
              - current_state_entity06
              - current_state_entity07
              - current_state_entity08
              - current_state_entity09
              - current_state_entity10
              - current_state_entity11
              - current_state_entity12
              - current_state_entity13
              - current_state_entity14
              - current_state_entity15
              - current_state_entity16
              - current_state_entity17
              - current_state_entity18
              - current_state_entity19
              - current_state_entity20
              - current_state_entity21
              - current_state_entity22
              - current_state_entity23
              - current_state_entity24
              - current_state_entity25
              - current_state_entity26
              - current_state_entity27
              - current_state_entity28
              - current_state_entity29
              - current_state_entity30
              - current_state_entity31
              - current_state_entity32
        sequence:
          ##### Cover PIC - open
          - if:
              - condition: template
                value_template: '{{ states(entity_long) == "open" }}'
            then:
              - delay:
                  milliseconds: 1
              - service: "{{ command_printf }}"
                data:
                  cmd: coversettings.cover_status.pic={{ cover_pic_open }}
          ##### Cover PIC - Closed #####
          - if:
              - condition: template
                value_template: '{{ states(entity_long) == "closed" }}'
            then:
              - delay:
                  milliseconds: 1
              - service: "{{ command_printf }}"
                data:
                  cmd: coversettings.cover_status.pic={{ cover_pic_closed }}
          ##### Cover Slider HA Sync - YES #####
          - if:
              - condition: template
                value_template: '{{ entity_long is match "cover." and sync_slider_ha == "select_yes" }}'
            then:
              - delay:
                  milliseconds: 2
              - service: "{{ command_value }}"
                data:
                  component: lightsettings.lightslider
                  message: '{{ (state_attr(entity_long, "current_position") | int ) |round(0) }}'         
          ##### Cover Value HA Sync - YES #####
          - if:
              - condition: template
                value_template: '{{ entity_long is match "cover." and sync_value_ha == "select_yes" }}'
            then:
              - delay:
                  milliseconds: 3
              - service: "{{ command_text_printf }}"
                data:
                  component: coversettings.cover_value
                  message: '{{ (state_attr(entity_long, "current_position") | int ) |round(0) }} %'





  ##### ACTION -  Page Coversettings - Cover Slider MOVE #####
  - choose:
      - conditions:
          - condition: trigger
            id: 
              - cover_settings
        sequence:
          - if:
              - condition: template
                value_template: '{{ states(last_click_coversettings) is match "coverposition\d+" }}'
            then:
              - service: cover.set_cover_position
                data:
                  entity_id: "{{ entity_long }}"
                  position: '{{ states(last_click_coversettings) |replace("coverposition","") | int }}'
              - service: "{{ command_text_printf }}"
                data:
                  component: coversettings.cover_value
                  message: '{{ states(last_click_coversettings) |replace("coverposition","") | int }} %'
              - service: "{{ command_text_printf }}"
                data:
                  component: coversettings.cover_value_2
                  message: '{{ states(last_click_coversettings) |replace("coverposition","") | int }} %'





  ##### ACTION - Page Coversettings - UP / DOWN / STOP Cover #####
  - choose:
      - conditions:
          - condition: trigger
            id: cover_settings
        sequence:
          ##### COVER CLOSE Button #####
          - if:
              - condition: template
                value_template: '{{ states(last_click_coversettings) == "cover_close_press" }}'
            then:
              - service: cover.close_cover
                data:
                  entity_id: "{{ entity_long }}"
          ##### COVER OPEN Button #####
          - if:
              - condition: template
                value_template: '{{ states(last_click_coversettings) == "cover_open_press" }}'
            then:
              - service: cover.open_cover
                data:
                  entity_id: "{{ entity_long }}"
          ##### COVER STOP Button #####
          - if:
              - condition: template
                value_template: '{{ states(last_click_coversettings) == "cover_stop_press" }}'
            then:
              - service: cover.stop_cover
                data:
                  entity_id: "{{ entity_long }}"





  ##### ACTION - Page Coversettings - Close Coversettings #####
  - choose:
      - conditions:
          - condition: trigger
            id: cover_settings
          - condition: template
            value_template: '{{ states(last_click_coversettings) == "releasecoversettingsclose" }}'
        sequence:
          - service: "{{ command_printf }}"
            data:
              cmd: "{{ entity_back }}"





  ##################################################
  ##### ACTION - Cover Setting Page ##########################################################################################################################################################
  ##################################################






  #### ACTION - TFT Upload Automation #####
  - choose:
      - conditions:
          - condition: trigger
            id: tft_upload
        sequence:
          - delay:
              seconds: 2
          - service: "{{ tft_upload }}"
            data: {}

  ##### Humidity #####
  - choose:
      - conditions:
          - condition: trigger
            id:
              # - nspanel_boot_entities
              - humidity_state
        sequence:
          - service: "{{ command_text_printf }}"
            data:
              component: home.a04
              message: "{{ states(humidity) |round(0) }}%"

  ##### Hotwater Temp #####
  - choose:
      - conditions:
          - condition: trigger
            id:
              # - nspanel_boot_entities
              - hotwatertemp_state
          - condition: template
            value_template: '{{ hotwatertemp is match "sensor." }}'
        sequence:
          - service: "{{ command_text_printf }}"
            data:
              component: home.a07
              message: "{{ states(hotwatertemp) |round(1) }}"
          - service: "{{ command_text_printf }}"
            data:
              component: thermostat.a08
              message: "{{ states(hotwatertemp) |round(1) }}"
          - service: "{{ command_printf }}"
            data:
              cmd: home.p01.pic=68

  ##### Outdoor Temp Entity #####
  - choose:
      - conditions:
          - condition: trigger
            id:
              # - nspanel_boot_entities
              - outdoortemp_state
          - condition: template
            value_template: '{{ outdoortemp is match "sensor." }}'
        sequence:
          - service: "{{ command_text_printf }}"
            data:
              component: home.a06
              message: "{{ states(outdoortemp) |round(0) }}"
          - service: "{{ command_text_printf }}"
            data:
              component: thermostat.a07
              message: "{{ states(outdoortemp) |round(0) }}"

  ##### Outdoor Temp Meteorologisk #####
  - choose:
      - conditions:
          - condition: trigger
            id:
              # - nspanel_boot_entities
              - weather_update_time
          - condition: template
            value_template: '{{ outdoortemp == "default" }}'
        sequence:
          - service: "{{ command_text_printf }}"
            data:
              component: home.a06
              message: '{{state_attr(ha_weather,"temperature") | round(0)}}'
          - service: "{{ command_text_printf }}"
            data:
              component: thermostat.a07
              message: '{{state_attr(ha_weather,"temperature") | round(0)}}'

  ##### Outdoor Temp AccuWeather #####
  - choose:
      - conditions:
          - condition: trigger
            id:
              # - nspanel_boot_entities
              - weather_update_time
          - condition: template
            value_template: '{{ outdoortemp == "accuweather" }}'
        sequence:
          - service: "{{ command_text_printf }}"
            data:
              component: home.a06
              message: "{{states(accuweather_realfeel_temperature_max_0d) | round(0)}}"
          - service: "{{ command_text_printf }}"
            data:
              component: thermostat.a07
              message: "{{states(accuweather_realfeel_temperature_max_0d) | round(0)}}"


  #########################################
  #
  #
  #############################################################
  ##### CLOSE - START - Action #####
  #############################################################
  #
  ##
  ###
  #############################################################################################################################################################################################
  ###
  ##
  #
  #############################################################
  ##### START - Weather Forcast Meteorologisk HA Default #####
  #############################################################
  #
  #
  #########################################
  - choose:
      - conditions:
          - condition: trigger
            id:
              # - nspanel_boot_weather
              - weather_update_state
              - weather_update_time
          - condition: template
            value_template: '{{ weather == "Default" }}'

        ##### Weather Home Page Symbole Home Meteorologisk HA Default #####
        sequence:
          - if:
              - condition: template
                value_template: "{{states(ha_weather) == 'sunny'}}"
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: home.a05.pic=2
          - if:
              - condition: template
                value_template: "{{states(ha_weather) == 'cloudy'}}"
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: home.a05.pic=3
          - if:
              - condition: template
                value_template: "{{states(ha_weather) == 'rainy'}}"
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: home.a05.pic=4
          - if:
              - condition: template
                value_template: "{{states(ha_weather) == 'pouring'}}"
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: home.a05.pic=5
          - if:
              - condition: template
                value_template: "{{states(ha_weather) == 'snowy'}}"
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: home.a05.pic=6
          - if:
              - condition: template
                value_template: "{{states(ha_weather) == 'hail'}}"
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: home.a05.pic=7
          - if:
              - condition: template
                value_template: "{{states(ha_weather) == 'snowy-rainy'}}"
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: home.a05.pic=7
          - if:
              - condition: template
                value_template: "{{states(ha_weather) == 'fog'}}"
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: home.a05.pic=8
          - if:
              - condition: template
                value_template: "{{states(ha_weather) == 'windy'}}"
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: home.a05.pic=9
          - if:
              - condition: template
                value_template: "{{states(ha_weather) == 'windy-variant'}}"
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: home.a05.pic=9
          - if:
              - condition: template
                value_template: "{{states(ha_weather) == 'lightning'}}"
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: home.a05.pic=10
          - if:
              - condition: template
                value_template: "{{states(ha_weather) == 'partlycloudy' and states('sun.sun') == 'above_horizon' }}"
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: home.a05.pic=11
          - if:
              - condition: template
                value_template: "{{states(ha_weather) == 'partlycloudy' and states('sun.sun') == 'below_horizon' }}"
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: home.a05.pic=12
          - if:
              - condition: template
                value_template: "{{states(ha_weather) == 'lightning-rainy' and states('sun.sun') == 'above_horizon'}}"
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: home.a05.pic=13
          - if:
              - condition: template
                value_template: "{{states(ha_weather) == 'lightning-rainy' and states('sun.sun') == 'below_horizon'}}"
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: home.a05.pic=14
          - if:
              - condition: template
                value_template: "{{states(ha_weather) == 'execptional' and states('sun.sun') == 'above_horizon'}}"
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: home.a05.pic=13
          - if:
              - condition: template
                value_template: "{{states(ha_weather) == 'execptional' and states('sun.sun') == 'below_horizon'}}"
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: home.a05.pic=14
          - if:
              - condition: template
                value_template: "{{states(ha_weather) == 'clear-night'}}"
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: home.a05.pic=15

          ##### Weather Forcast Today Symbole Home Meteorologisk HA Default #####
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[0].condition
                  == ''sunny''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.a03.pic=2
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[0].condition
                  == ''cloudy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.a03.pic=3
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[0].condition
                  == ''rainy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.a03.pic=4
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[0].condition
                  == ''pouring''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.a03.pic=5
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[0].condition
                  == ''snowy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.a03.pic=6
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[0].condition
                  == ''hail''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.a03.pic=7
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[0].condition
                  == ''snowy-rainy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.a03.pic=7
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[0].condition
                  == ''fog''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.a03.pic=8
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[0].condition
                  == ''windy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.a03.pic=9
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[0].condition
                  == ''windy-variant''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.a03.pic=9
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[0].condition
                  == ''lightning''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.a03.pic=10
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[0].condition
                  == ''partlycloudy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.a03.pic=11
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[0].condition
                  == ''lightning-rainy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.a03.pic=13
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[0].condition
                  == ''execptional''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.a03.pic=13
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[0].condition
                  == ''clear-night''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.a03.pic=15

          ##### Weather Forcast Day 1 Symbole Home Meteorologisk HA Default #####
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[1].condition
                  == ''sunny''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.a03.pic=2
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[1].condition
                  == ''cloudy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.a03.pic=3
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[1].condition
                  == ''rainy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.a03.pic=4
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[1].condition
                  == ''pouring''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.a03.pic=5
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[1].condition
                  == ''snowy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.a03.pic=6
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[1].condition
                  == ''hail''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.a03.pic=7
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[1].condition
                  == ''snowy-rainy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.a03.pic=7
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[1].condition
                  == ''fog''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.a03.pic=8
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[1].condition
                  == ''windy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.a03.pic=9
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[1].condition
                  == ''windy-variant''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.a03.pic=9
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[1].condition
                  == ''lightning''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.a03.pic=10
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[1].condition
                  == ''partlycloudy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.a03.pic=11
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[1].condition
                  == ''lightning-rainy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.a03.pic=13
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[1].condition
                  == ''execptional''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.a03.pic=13
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[1].condition
                  == ''clear-night''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.a03.pic=15

          ##### Weather Forcast Day 2 Symbole Home Meteorologisk HA Default #####
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[2].condition
                  == ''sunny''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.a03.pic=2
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[2].condition
                  == ''cloudy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.a03.pic=3
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[2].condition
                  == ''rainy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.a03.pic=4
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[2].condition
                  == ''pouring''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.a03.pic=5
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[2].condition
                  == ''snowy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.a03.pic=6
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[2].condition
                  == ''hail''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.a03.pic=7
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[2].condition
                  == ''snowy-rainy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.a03.pic=7
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[2].condition
                  == ''fog''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.a03.pic=8
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[2].condition
                  == ''windy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.a03.pic=9
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[2].condition
                  == ''windy-variant''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.a03.pic=9
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[2].condition
                  == ''lightning''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.a03.pic=10
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[2].condition
                  == ''partlycloudy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.a03.pic=11
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[2].condition
                  == ''lightning-rainy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.a03.pic=13
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[2].condition
                  == ''execptional''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.a03.pic=13
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[2].condition
                  == ''clear-night''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.a03.pic=15

          ##### Weather Forcast Day 3 Symbole Home Meteorologisk HA Default #####
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[3].condition
                  == ''sunny''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.a03.pic=2
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[3].condition
                  == ''cloudy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.a03.pic=3
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[3].condition
                  == ''rainy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.a03.pic=4
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[3].condition
                  == ''pouring''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.a03.pic=5
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[3].condition
                  == ''snowy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.a03.pic=6
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[3].condition
                  == ''hail''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.a03.pic=7
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[3].condition
                  == ''snowy-rainy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.a03.pic=7
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[3].condition
                  == ''fog''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.a03.pic=8
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[3].condition
                  == ''windy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.a03.pic=9
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[3].condition
                  == ''windy-variant''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.a03.pic=9
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[3].condition
                  == ''lightning''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.a03.pic=10
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[3].condition
                  == ''partlycloudy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.a03.pic=11
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[3].condition
                  == ''lightning-rainy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.a03.pic=13
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[3].condition
                  == ''execptional''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.a03.pic=13
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[3].condition
                  == ''clear-night''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.a03.pic=15

          ##### Weather Forcast Day 4 Symbole Home Meteorologisk HA Default #####
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[4].condition
                  == ''sunny''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.a03.pic=2
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[4].condition
                  == ''cloudy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.a03.pic=3
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[4].condition
                  == ''rainy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.a03.pic=4
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[4].condition
                  == ''pouring''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.a03.pic=5
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[4].condition
                  == ''snowy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.a03.pic=6
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[4].condition
                  == ''hail''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.a03.pic=7
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[4].condition
                  == ''snowy-rainy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.a03.pic=7
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[4].condition
                  == ''fog''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.a03.pic=8
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[4].condition
                  == ''windy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.a03.pic=9
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[4].condition
                  == ''windy-variant''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.a03.pic=9
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[4].condition
                  == ''lightning''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.a03.pic=10
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[4].condition
                  == ''partlycloudy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.a03.pic=11
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[4].condition
                  == ''lightning-rainy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.a03.pic=13
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[4].condition
                  == ''execptional''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.a03.pic=13
          - if:
              - condition: template
                value_template:
                  '{{state_attr(ha_weather,"forecast")[4].condition
                  == ''clear-night''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.a03.pic=15

          ##### Weather Forcast Today "TEMP" Home Meteorologisk HA Default #####
          - service: "{{ command_text_printf }}"
            data:
              component: weather01.a04 ### Temperature MIN ###
              message: " "
          - service: "{{ command_text_printf }}"
            data:
              component: weather01.a05 ### Temperature MAX ###
              message: '{{state_attr(ha_weather,"temperature") | round(0)}}'

          ##### Weather Forcast Day 1 "TEMP" Home Meteorologisk HA Default #####
          - service: "{{ command_text_printf }}"
            data:
              component: weather02.a04 ### Temperature MIN ###
              message: '{{state_attr(ha_weather,"forecast")[1].templow | round(0)}}'
          - service: "{{ command_text_printf }}"
            data:
              component: weather02.a05 ### Temperature MAX ###
              message: '{{state_attr(ha_weather,"forecast")[1].temperature | round(0)}}'

          ##### Weather Forcast Day 2 "TEMP" Home Meteorologisk HA Default #####
          - service: "{{ command_text_printf }}"
            data:
              component: weather03.a04 ### Temperature MIN ###
              message: '{{state_attr(ha_weather,"forecast")[2].templow | round(0)}}'
          - service: "{{ command_text_printf }}"
            data:
              component: weather03.a05 ### Temperature MAX ###
              message: '{{state_attr(ha_weather,"forecast")[2].temperature | round(0)}}'

          ##### Weather Forcast Day 3 "TEMP" Home Meteorologisk HA Default #####
          - service: "{{ command_text_printf }}"
            data:
              component: weather04.a04 ### Temperature MIN ###
              message: '{{state_attr(ha_weather,"forecast")[3].templow | round(0)}}'
          - service: "{{ command_text_printf }}"
            data:
              component: weather04.a05 ### Temperature MAX ###
              message: '{{state_attr(ha_weather,"forecast")[3].temperature | round(0)}}'

          ##### Weather Forcast Day 4 "TEMP" Home Meteorologisk HA Default #####
          - service: "{{ command_text_printf }}"
            data:
              component: weather05.a04 ### Temperature MIN ###
              message: '{{state_attr(ha_weather,"forecast")[4].templow | round(0)}}'
          - service: "{{ command_text_printf }}"
            data:
              component: weather05.a05 ### Temperature MAX ###
              message: '{{state_attr(ha_weather,"forecast")[4].temperature | round(0)}}'

  ################################################################################
  ##### Weather Forcast Details Home Meteorologisk HA Default ###################################
  ################################################################################
  - choose:
      - conditions:
          - condition: trigger
            id: weather_update_state
          - condition: template
            value_template: '{{ weather == "Default" }}'

        ##### Weather Forcast Today "Details" Home Meteorologisk HA Default #####
        sequence:
          - if:
              - condition: template
                value_template: '{{states(last_click) == "weather01"}}'
            then:
              ##### field 1 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather01.a06
                  message: " "
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.p06.pic=53
              ##### field 2 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather01.a07
                  message: " "
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.p07.pic=53
              ##### field 3 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather01.a08
                  message: '{{state_attr(ha_weather,"wind_speed") | round(0)}} km/h'
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.p08.pic=63
              ##### field 4 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather01.a09
                  message: " "
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.p09.pic=53
              ##### field 5 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather01.a10
                  message: " "
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.p10.pic=53

          ##### Weather Forcast Day 1 "Details" Home Meteorologisk HA Default #####
          - if:
              - condition: template
                value_template: '{{states(last_click) == "weather02"}}'
            then:
              ##### field 1 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather02.a06
                  message: " "
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.p06.pic=53
              ##### field 2 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather02.a07
                  message: '{{state_attr(ha_weather,"forecast")[0].precipitation| round(1)}} mm'
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.p07.pic=59
              ##### field 3 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather02.a08
                  message: '{{state_attr(ha_weather,"forecast")[0].wind_speed | round(0)}} km/h'
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.p08.pic=63
              ##### field 4 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather02.a09
                  message: " "
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.p09.pic=53
              #####  field 5 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather02.a10
                  message: " "
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.p10.pic=53

          ##### Weather Forcast Day 2 "Details" Home Meteorologisk HA Default #####
          - if:
              - condition: template
                value_template: '{{states(last_click) == "weather03"}}'
            then:
              ##### field 1 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather03.a06
                  message: " "
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.p06.pic=53
              ##### field 2 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather03.a07
                  message: '{{state_attr(ha_weather,"forecast")[1].precipitation| round(1)}} mm'
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.p07.pic=59
              ##### field 3 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather03.a08
                  message: '{{state_attr(ha_weather,"forecast")[1].wind_speed | round(0)}} km/h'
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.p08.pic=63
              ##### field 4 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather03.a09
                  message: " "
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.p09.pic=53
              ##### field 5 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather03.a10
                  message: " "
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.p10.pic=53

          ##### Weather Forcast Day 3 "Details" Home Meteorologisk HA Default #####
          - if:
              - condition: template
                value_template: '{{states(last_click) == "weather04"}}'
            then:
              ##### field 1 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather04.a06
                  message: " "
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.p06.pic=53
              ##### field 2 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather04.a07
                  message: '{{state_attr(ha_weather,"forecast")[2].precipitation| round(1)}} mm'
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.p07.pic=59
              ##### field 3 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather04.a08
                  message: '{{state_attr(ha_weather,"forecast")[2].wind_speed | round(0)}} km/h'
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.p08.pic=63
              ##### field 4 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather04.a09
                  message: " "
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.p09.pic=53
              ##### field 5 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather04.a10
                  message: " "
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.p10.pic=53

          ##### Weather Forcast Day 4 "Details" Home Meteorologisk HA Default #####
          - if:
              - condition: template
                value_template: '{{states(last_click) == "weather05"}}'
            then:
              ##### field 1 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather05.a06
                  message: " "
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.p06.pic=53
              ##### field 2 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather05.a07
                  message: '{{state_attr(ha_weather,"forecast")[3].precipitation| round(1)}} mm'
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.p07.pic=59
              ##### field 3 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather05.a08
                  message: '{{state_attr(ha_weather,"forecast")[3].wind_speed | round(0)}} km/h'
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.p08.pic=63
              ##### field 4 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather05.a09
                  message: " "
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.p09.pic=53
              ##### field 5 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather05.a10
                  message: " "
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.p10.pic=53

  #########################################
  #
  #
  #############################################################
  ##### CLOSE - Weather Forcast Meteorologisk HA Default #####
  #############################################################
  #
  ##
  ###
  #############################################################################################################################################################################################
  ###
  ##
  #
  #############################################################
  ##### START - Weather Forcast AccuWeather #####
  #############################################################
  #
  #
  #########################################
  - choose:
      - conditions:
          - condition: trigger
            id:
              # - nspanel_boot_weather
              - weather_update_state
              - weather_update_time
          - condition: template
            value_template: '{{ weather == "AccuWeather" }}'

        ##### Weather Home Page Symbole Home "AccuWeather" #####
        sequence:
          - if:
              - condition: template
                value_template: "{{states(accuweather_home) == 'sunny'}}"
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: home.a05.pic=2
          - if:
              - condition: template
                value_template: "{{states(accuweather_home) == 'cloudy'}}"
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: home.a05.pic=3
          - if:
              - condition: template
                value_template: "{{states(accuweather_home) == 'rainy'}}"
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: home.a05.pic=4
          - if:
              - condition: template
                value_template: "{{states(accuweather_home) == 'pouring'}}"
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: home.a05.pic=5
          - if:
              - condition: template
                value_template: "{{states(accuweather_home) == 'snowy'}}"
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: home.a05.pic=6
          - if:
              - condition: template
                value_template: "{{states(accuweather_home) == 'hail'}}"
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: home.a05.pic=7
          - if:
              - condition: template
                value_template: "{{states(accuweather_home) == 'snowy-rainy'}}"
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: home.a05.pic=7
          - if:
              - condition: template
                value_template: "{{states(accuweather_home) == 'fog'}}"
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: home.a05.pic=8
          - if:
              - condition: template
                value_template: "{{states(accuweather_home) == 'windy'}}"
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: home.a05.pic=9
          - if:
              - condition: template
                value_template: "{{states(accuweather_home) == 'windy-variant'}}"
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: home.a05.pic=9
          - if:
              - condition: template
                value_template: "{{states(accuweather_home) == 'lightning'}}"
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: home.a05.pic=10
          - if:
              - condition: template
                value_template: "{{states(accuweather_home) == 'partlycloudy' and states('sun.sun') == 'above_horizon' }}"
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: home.a05.pic=11
          - if:
              - condition: template
                value_template: "{{states(accuweather_home) == 'partlycloudy' and states('sun.sun') == 'below_horizon' }}"
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: home.a05.pic=12
          - if:
              - condition: template
                value_template: "{{states(accuweather_home) == 'lightning-rainy' and states('sun.sun') == 'above_horizon'}}"
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: home.a05.pic=13
          - if:
              - condition: template
                value_template: "{{states(accuweather_home) == 'lightning-rainy' and states('sun.sun') == 'below_horizon'}}"
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: home.a05.pic=14
          - if:
              - condition: template
                value_template: "{{states(accuweather_home) == 'execptional' and states('sun.sun') == 'above_horizon'}}"
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: home.a05.pic=13
          - if:
              - condition: template
                value_template: "{{states(accuweather_home) == 'execptional' and states('sun.sun') == 'below_horizon'}}"
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: home.a05.pic=14
          - if:
              - condition: template
                value_template: "{{states(accuweather_home) == 'clear-night'}}"
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: home.a05.pic=15

          ##### Weather Forcast Today Symbole "AccuWeather" #####
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[0].condition
                  == ''sunny''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.a03.pic=2
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[0].condition
                  == ''cloudy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.a03.pic=3
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[0].condition
                  == ''rainy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.a03.pic=4
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[0].condition
                  == ''pouring''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.a03.pic=5
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[0].condition
                  == ''snowy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.a03.pic=6
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[0].condition
                  == ''hail''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.a03.pic=7
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[0].condition
                  == ''snowy-rainy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.a03.pic=7
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[0].condition
                  == ''fog''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.a03.pic=8
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[0].condition
                  == ''windy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.a03.pic=9
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[0].condition
                  == ''windy-variant''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.a03.pic=9
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[0].condition
                  == ''lightning''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.a03.pic=10
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[0].condition
                  == ''partlycloudy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.a03.pic=11
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[0].condition
                  == ''lightning-rainy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.a03.pic=13
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[0].condition
                  == ''execptional''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.a03.pic=13
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[0].condition
                  == ''clear-night''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.a03.pic=15

          ##### Weather Forcast Day 1 Symbole "AccuWeather" #####
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[1].condition
                  == ''sunny''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.a03.pic=2
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[1].condition
                  == ''cloudy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.a03.pic=3
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[1].condition
                  == ''rainy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.a03.pic=4
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[1].condition
                  == ''pouring''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.a03.pic=5
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[1].condition
                  == ''snowy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.a03.pic=6
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[1].condition
                  == ''hail''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.a03.pic=7
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[1].condition
                  == ''snowy-rainy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.a03.pic=7
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[1].condition
                  == ''fog''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.a03.pic=8
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[1].condition
                  == ''windy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.a03.pic=9
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[1].condition
                  == ''windy-variant''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.a03.pic=9
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[1].condition
                  == ''lightning''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.a03.pic=10
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[1].condition
                  == ''partlycloudy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.a03.pic=11
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[1].condition
                  == ''lightning-rainy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.a03.pic=13
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[1].condition
                  == ''execptional''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.a03.pic=13
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[1].condition
                  == ''clear-night''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.a03.pic=15

          ##### Weather Forcast Day 2 Symbole "AccuWeather" #####
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[2].condition
                  == ''sunny''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.a03.pic=2
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[2].condition
                  == ''cloudy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.a03.pic=3
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[2].condition
                  == ''rainy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.a03.pic=4
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[2].condition
                  == ''pouring''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.a03.pic=5
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[2].condition
                  == ''snowy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.a03.pic=6
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[2].condition
                  == ''hail''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.a03.pic=7
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[2].condition
                  == ''snowy-rainy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.a03.pic=7
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[2].condition
                  == ''fog''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.a03.pic=8
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[2].condition
                  == ''windy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.a03.pic=9
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[2].condition
                  == ''windy-variant''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.a03.pic=9
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[2].condition
                  == ''lightning''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.a03.pic=10
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[2].condition
                  == ''partlycloudy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.a03.pic=11
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[2].condition
                  == ''lightning-rainy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.a03.pic=13
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[2].condition
                  == ''execptional''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.a03.pic=13
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[2].condition
                  == ''clear-night''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.a03.pic=15

          ##### Weather Forcast Day 3 Symbole "AccuWeather" #####
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[3].condition
                  == ''sunny''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.a03.pic=2
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[3].condition
                  == ''cloudy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.a03.pic=3
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[3].condition
                  == ''rainy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.a03.pic=4
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[3].condition
                  == ''pouring''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.a03.pic=5
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[3].condition
                  == ''snowy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.a03.pic=6
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[3].condition
                  == ''hail''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.a03.pic=7
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[3].condition
                  == ''snowy-rainy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.a03.pic=7
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[3].condition
                  == ''fog''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.a03.pic=8
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[3].condition
                  == ''windy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.a03.pic=9
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[3].condition
                  == ''windy-variant''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.a03.pic=9
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[3].condition
                  == ''lightning''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.a03.pic=10
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[3].condition
                  == ''partlycloudy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.a03.pic=11
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[3].condition
                  == ''lightning-rainy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.a03.pic=13
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[3].condition
                  == ''execptional''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.a03.pic=13
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[3].condition
                  == ''clear-night''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.a03.pic=15

          ##### Weather Forcast Day 4 Symbole "AccuWeather" #####
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[4].condition
                  == ''sunny''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.a03.pic=2
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[4].condition
                  == ''cloudy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.a03.pic=3
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[4].condition
                  == ''rainy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.a03.pic=4
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[4].condition
                  == ''pouring''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.a03.pic=5
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[4].condition
                  == ''snowy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.a03.pic=6
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[4].condition
                  == ''hail''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.a03.pic=7
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[4].condition
                  == ''snowy-rainy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.a03.pic=7
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[4].condition
                  == ''fog''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.a03.pic=8
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[4].condition
                  == ''windy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.a03.pic=9
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[4].condition
                  == ''windy-variant''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.a03.pic=9
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[4].condition
                  == ''lightning''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.a03.pic=10
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[4].condition
                  == ''partlycloudy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.a03.pic=11
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[4].condition
                  == ''lightning-rainy''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.a03.pic=13
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[4].condition
                  == ''execptional''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.a03.pic=13
          - if:
              - condition: template
                value_template:
                  '{{state_attr(accuweather_home,"forecast")[4].condition
                  == ''clear-night''}}'
            then:
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.a03.pic=15

          ##### Weather Forcast Today "TEMP" "AccuWeather" #####
          - service: "{{ command_text_printf }}"
            data:
              component: weather01.a04 ### Temperature MIN ###
              message: "{{states(accuweather_realfeel_temperature_min_0d) | round(0)}}"
          - service: "{{ command_text_printf }}"
            data:
              component: weather01.a05 ### Temperature MAX ###
              message: "{{states(accuweather_realfeel_temperature_max_0d) | round(0)}}"

          ##### Weather Forcast Day 1 "TEMP" "AccuWeather" #####
          - service: "{{ command_text_printf }}"
            data:
              component: weather02.a04 ### Temperature MIN ###
              message: "{{states(accuweather_realfeel_temperature_min_1d) | round(0)}}"
          - service: "{{ command_text_printf }}"
            data:
              component: weather02.a05 ### Temperature MAX ###
              message: "{{states(accuweather_realfeel_temperature_max_1d) | round(0)}}"

          ##### Weather Forcast Day 2 "TEMP" "AccuWeather" #####
          - service: "{{ command_text_printf }}"
            data:
              component: weather03.a04 ### Temperature MIN ###
              message: "{{states(accuweather_realfeel_temperature_min_2d) | round(0)}}"
          - service: "{{ command_text_printf }}"
            data:
              component: weather03.a05 ### Temperature MAX ###
              message: "{{states(accuweather_realfeel_temperature_max_2d) | round(0)}}"

          ##### Weather Forcast Day 3 "TEMP" "AccuWeather" #####
          - service: "{{ command_text_printf }}"
            data:
              component: weather04.a04 ### Temperature MIN ###
              message: "{{states(accuweather_realfeel_temperature_min_3d) | round(0)}}"
          - service: "{{ command_text_printf }}"
            data:
              component: weather04.a05 ### Temperature MAX ###
              message: "{{states(accuweather_realfeel_temperature_max_3d) | round(0)}}"

          ##### Weather Forcast Day 4 "TEMP" "AccuWeather" #####
          - service: "{{ command_text_printf }}"
            data:
              component: weather05.a04 ### Temperature MIN ###
              message: "{{states(accuweather_realfeel_temperature_min_4d) | round(0)}}"
          - service: "{{ command_text_printf }}"
            data:
              component: weather05.a05 ### Temperature MAX ###
              message: "{{states(accuweather_realfeel_temperature_max_4d) | round(0)}}"

  ################################################################################
  ##### Weather Forcast Details "AccuWeather" ###################################
  ################################################################################
  - choose:
      - conditions:
          - condition: trigger
            id: weather_update_state
          - condition: template
            value_template: '{{ weather == "AccuWeather" }}'
        ##### Weather Forcast Today Details "AccuWeather" #####
        sequence:
          - if:
              - condition: template
                value_template: '{{states(last_click) == "weather01"}}'
            then:
          ##### field 1 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather01.a06
                  message: "{{ state_attr(accuweather_home,'forecast')[0].precipitation_probability}} %"
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.p06.pic=59
          ##### field 2 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather01.a07
                  message: "{{states(accuweather_hours_of_sun_0d) | round(0)}} h"
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.p07.pic=60
          ##### field 3 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather01.a08
                  message: "{{state_attr(accuweather_uv_index_0d, 'level')}} {{states(accuweather_uv_index_0d) | round(0)}}"
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.p08.pic=61
          ##### field 4 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather01.a09
                  message: "{{states(accuweather_thunderstorm_probability_day_0d) | round(0)}} %"
              - service: "{{ command_printf }}"
                data:
                  cmd: weather01.p09.pic=62
          ##### field 5 #####
          - service: "{{ command_text_printf }}"
            data:
              component: weather01.a10
              message: "{{states(accuweather_wind_day_0d) | round(0)}} km/h"
          - service: "{{ command_printf }}"
            data:
              cmd: weather01.p10.pic=63

          ##### Weather Forcast Day 1 Details "AccuWeather" #####
          - if:
              - condition: template
                value_template: '{{states(last_click) == "weather02"}}'
            then:
          ##### field 1 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather02.a06
                  message: "{{ state_attr(accuweather_home,'forecast')[1].precipitation_probability}} %"
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.p06.pic=59
          ##### field 2 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather02.a07
                  message: "{{states(accuweather_hours_of_sun_1d) | round(0)}} h"
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.p07.pic=60
          ##### field 3 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather02.a08
                  message: "{{state_attr(accuweather_uv_index_1d, 'level')}} {{states(accuweather_uv_index_1d) | round(0)}}"
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.p08.pic=61
          ##### field 4 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather02.a09
                  message: "{{states(accuweather_thunderstorm_probability_day_1d) | round(0)}} %"
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.p09.pic=62
          ##### field 5 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather02.a10
                  message: "{{states(accuweather_wind_day_1d) | round(0)}} km/h"
              - service: "{{ command_printf }}"
                data:
                  cmd: weather02.p10.pic=63

          ##### Weather Forcast Day 2 Details "AccuWeather" #####
          - if:
              - condition: template
                value_template: '{{states(last_click) == "weather03"}}'
            then:
          ##### field 1 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather03.a06
                  message: "{{ state_attr(accuweather_home,'forecast')[2].precipitation_probability}} %"
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.p06.pic=59
          ##### field 2 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather03.a07
                  message: "{{states(accuweather_hours_of_sun_2d) | round(0)}} h"
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.p07.pic=60
          ##### field 3 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather03.a08
                  message: "{{state_attr(accuweather_uv_index_2d, 'level')}} {{states(accuweather_uv_index_2d) | round(0)}}"
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.p08.pic=61
          ##### field 4 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather03.a09
                  message: "{{states(accuweather_thunderstorm_probability_day_2d) | round(0)}} %"
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.p09.pic=62
          ##### field 5 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather03.a10
                  message: "{{states(accuweather_wind_day_2d) | round(0)}} km/h"
              - service: "{{ command_printf }}"
                data:
                  cmd: weather03.p10.pic=63

          ##### Weather Forcast Day 3 Details "AccuWeather" #####
          - if:
              - condition: template
                value_template: '{{states(last_click) == "weather04"}}'
            then:
          ##### field 1 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather04.a06
                  message: "{{ state_attr(accuweather_home,'forecast')[3].precipitation_probability}} %"
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.p06.pic=59
          ##### field 2 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather04.a07
                  message: "{{states(accuweather_hours_of_sun_3d) | round(0)}} h"
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.p07.pic=60
          ##### field 3 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather04.a08
                  message: "{{state_attr(accuweather_uv_index_3d, 'level')}} {{states(accuweather_uv_index_3d) | round(0)}}"
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.p08.pic=61
          ##### field 4 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather04.a09
                  message: "{{states(accuweather_thunderstorm_probability_day_3d) | round(0)}} %"
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.p09.pic=62
          ##### field 5 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather04.a10
                  message: "{{states(accuweather_wind_day_3d) | round(0)}} km/h"
              - service: "{{ command_printf }}"
                data:
                  cmd: weather04.p10.pic=63

          ##### Weather Forcast Day 4 Details "AccuWeather" #####
          - if:
              - condition: template
                value_template: '{{states(last_click) == "weather05"}}'
            then:
          ##### field 1 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather05.a06
                  message: "{{ state_attr(accuweather_home,'forecast')[4].precipitation_probability}} %"
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.p06.pic=59
          ##### field 2 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather05.a07
                  message: "{{states(accuweather_hours_of_sun_4d) | round(0)}} h"
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.p07.pic=60
          ##### field 3 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather05.a08
                  message: "{{state_attr(accuweather_uv_index_4d, 'level')}} {{states(accuweather_uv_index_4d) | round(0)}}"
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.p08.pic=61
          ##### field 4 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather05.a09
                  message: "{{states(accuweather_thunderstorm_probability_day_4d) | round(0)}} %"
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.p09.pic=62
          ##### field 5 #####
              - service: "{{ command_text_printf }}"
                data:
                  component: weather05.a10
                  message: "{{states(accuweather_wind_day_4d) | round(0)}} km/h"
              - service: "{{ command_printf }}"
                data:
                  cmd: weather05.p10.pic=63

#########################################
#
#
#############################################################
##### CLOSE - Weather Forcast AccuWeather #####
#############################################################
#
##
###
#############################################################################################################################################################################################

